; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\guicharp.o --depend=.\rvmdk\guicharp.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\guicharp.crf ..\..\..\..\..\uCGUI\GUI\Core\GUICharP.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  GUIPROP_FindChar PROC
;;;32     */
;;;33     static const GUI_FONT_PROP GUI_UNI_PTR * GUIPROP_FindChar(const GUI_FONT_PROP GUI_UNI_PTR* pProp, U16P c) {
000000  2800              CMP      r0,#0
;;;34       for (; pProp; pProp = pProp->pNext) {
000002  d008              BEQ      |L1.22|
                  |L1.4|
;;;35         if ((c>=pProp->First) && (c<=pProp->Last))
000004  8802              LDRH     r2,[r0,#0]
000006  428a              CMP      r2,r1
000008  d802              BHI      |L1.16|
00000a  8842              LDRH     r2,[r0,#2]
00000c  428a              CMP      r2,r1
00000e  d202              BCS      |L1.22|
                  |L1.16|
000010  6880              LDR      r0,[r0,#8]            ;34
000012  2800              CMP      r0,#0                 ;34
000014  d1f6              BNE      |L1.4|
                  |L1.22|
;;;36           break;
;;;37       }
;;;38       return pProp;
;;;39     }
000016  4770              BX       lr
;;;40     
                          ENDP

                  GUIPROP_DispChar PROC
;;;54     */
;;;55     void GUIPROP_DispChar(U16P c) {
000018  e92d47f0          PUSH     {r4-r10,lr}
00001c  b086              SUB      sp,sp,#0x18
00001e  4604              MOV      r4,r0
;;;56       int BytesPerLine;
;;;57       GUI_DRAWMODE DrawMode = GUI_Context.TextMode;
000020  4e43              LDR      r6,|L1.304|
000022  f9b6502e          LDRSH    r5,[r6,#0x2e]  ; GUI_Context
;;;58       const GUI_FONT_PROP GUI_UNI_PTR * pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
000026  69f0              LDR      r0,[r6,#0x1c]  ; GUI_Context
000028  4621              MOV      r1,r4
00002a  6980              LDR      r0,[r0,#0x18]
00002c  f7fffffe          BL       GUIPROP_FindChar
;;;59       if (pProp) {
000030  2800              CMP      r0,#0
000032  d059              BEQ      |L1.232|
;;;60         GUI_DRAWMODE OldDrawMode;
;;;61         const GUI_CHARINFO GUI_UNI_PTR * pCharInfo = pProp->paCharInfo+(c-pProp->First);
000034  6841              LDR      r1,[r0,#4]
000036  8800              LDRH     r0,[r0,#0]
000038  1a20              SUBS     r0,r4,r0
00003a  eb0104c0          ADD      r4,r1,r0,LSL #3
;;;62         BytesPerLine = pCharInfo->BytesPerLine;
00003e  f8949002          LDRB     r9,[r4,#2]
;;;63         OldDrawMode  = LCD_SetDrawMode(DrawMode);
000042  4628              MOV      r0,r5
000044  f7fffffe          BL       LCD_SetDrawMode
000048  4680              MOV      r8,r0
;;;64         if (GUI_MoveRTL) {
00004a  4f3a              LDR      r7,|L1.308|
00004c  7838              LDRB     r0,[r7,#0]  ; GUI_MoveRTL
00004e  b138              CBZ      r0,|L1.96|
;;;65           GUI_Context.DispPosX -= pCharInfo->XDist * GUI_Context.pAFont->XMag;
000050  69f2              LDR      r2,[r6,#0x1c]  ; GUI_Context
000052  f9b60026          LDRSH    r0,[r6,#0x26]  ; GUI_Context
000056  7861              LDRB     r1,[r4,#1]
000058  7d92              LDRB     r2,[r2,#0x16]
00005a  fb010012          MLS      r0,r1,r2,r0
00005e  84f0              STRH     r0,[r6,#0x26]
                  |L1.96|
;;;66         }
;;;67         LCD_DrawBitmap( GUI_Context.DispPosX, GUI_Context.DispPosY,
000060  6862              LDR      r2,[r4,#4]
000062  4b33              LDR      r3,|L1.304|
000064  2001              MOVS     r0,#1
000066  f8cd900c          STR      r9,[sp,#0xc]
00006a  9305              STR      r3,[sp,#0x14]
00006c  9204              STR      r2,[sp,#0x10]
00006e  9002              STR      r0,[sp,#8]
000070  69f0              LDR      r0,[r6,#0x1c]  ; GUI_Context
000072  7dc3              LDRB     r3,[r0,#0x17]
000074  7d82              LDRB     r2,[r0,#0x16]
000076  9301              STR      r3,[sp,#4]
000078  9200              STR      r2,[sp,#0]
00007a  7d03              LDRB     r3,[r0,#0x14]
00007c  7822              LDRB     r2,[r4,#0]
00007e  f9b61028          LDRSH    r1,[r6,#0x28]  ; GUI_Context
000082  f9b60026          LDRSH    r0,[r6,#0x26]  ; GUI_Context
000086  f7fffffe          BL       LCD_DrawBitmap
;;;68                            pCharInfo->XSize,
;;;69     											 GUI_Context.pAFont->YSize,
;;;70                            GUI_Context.pAFont->XMag,
;;;71     											 GUI_Context.pAFont->YMag,
;;;72                            1,     /* Bits per Pixel */
;;;73                            BytesPerLine,
;;;74                            pCharInfo->pData,
;;;75                            &LCD_BKCOLORINDEX
;;;76                            );
;;;77         /* Fill empty pixel lines */
;;;78         if (GUI_Context.pAFont->YDist > GUI_Context.pAFont->YSize) {
00008a  69f0              LDR      r0,[r6,#0x1c]  ; GUI_Context
00008c  7d41              LDRB     r1,[r0,#0x15]
00008e  7d02              LDRB     r2,[r0,#0x14]
000090  4291              CMP      r1,r2
000092  d91b              BLS      |L1.204|
;;;79           int YMag = GUI_Context.pAFont->YMag;
000094  7dc0              LDRB     r0,[r0,#0x17]
;;;80           int YDist = GUI_Context.pAFont->YDist * YMag;
000096  fb01f900          MUL      r9,r1,r0
;;;81           int YSize = GUI_Context.pAFont->YSize * YMag;
00009a  fb02fa00          MUL      r10,r2,r0
;;;82           if (DrawMode != LCD_DRAWMODE_TRANS) {
00009e  2d02              CMP      r5,#2
0000a0  d014              BEQ      |L1.204|
;;;83             LCD_COLOR OldColor = GUI_GetColor();
0000a2  f7fffffe          BL       GUI_GetColor
0000a6  4605              MOV      r5,r0
;;;84             GUI_SetColor(GUI_GetBkColor());
0000a8  f7fffffe          BL       GUI_GetBkColor
0000ac  f7fffffe          BL       GUI_SetColor
;;;85             LCD_FillRect(GUI_Context.DispPosX, 
0000b0  f9b60026          LDRSH    r0,[r6,#0x26]  ; GUI_Context
0000b4  7821              LDRB     r1,[r4,#0]
0000b6  1842              ADDS     r2,r0,r1
0000b8  f9b61028          LDRSH    r1,[r6,#0x28]  ; GUI_Context
0000bc  eb010309          ADD      r3,r1,r9
0000c0  4451              ADD      r1,r1,r10
0000c2  f7fffffe          BL       LCD_FillRect
;;;86                          GUI_Context.DispPosY + YSize, 
;;;87                          GUI_Context.DispPosX + pCharInfo->XSize, 
;;;88                          GUI_Context.DispPosY + YDist);
;;;89             GUI_SetColor(OldColor);
0000c6  4628              MOV      r0,r5
0000c8  f7fffffe          BL       GUI_SetColor
                  |L1.204|
;;;90           }
;;;91         }
;;;92         LCD_SetDrawMode(OldDrawMode); /* Restore draw mode */
0000cc  4640              MOV      r0,r8
0000ce  f7fffffe          BL       LCD_SetDrawMode
;;;93         if (!GUI_MoveRTL) {
0000d2  7838              LDRB     r0,[r7,#0]  ; GUI_MoveRTL
0000d4  2800              CMP      r0,#0
0000d6  d107              BNE      |L1.232|
;;;94           GUI_Context.DispPosX += pCharInfo->XDist * GUI_Context.pAFont->XMag;
0000d8  69f2              LDR      r2,[r6,#0x1c]  ; GUI_Context
0000da  f9b60026          LDRSH    r0,[r6,#0x26]  ; GUI_Context
0000de  7861              LDRB     r1,[r4,#1]
0000e0  7d92              LDRB     r2,[r2,#0x16]
0000e2  fb010002          MLA      r0,r1,r2,r0
0000e6  84f0              STRH     r0,[r6,#0x26]
                  |L1.232|
;;;95         }
;;;96       }
;;;97     }
0000e8  b006              ADD      sp,sp,#0x18
0000ea  e8bd87f0          POP      {r4-r10,pc}
;;;98     
                          ENDP

                  GUIPROP_GetCharDistX PROC
;;;102    */
;;;103    int GUIPROP_GetCharDistX(U16P c) {
0000ee  b570              PUSH     {r4-r6,lr}
0000f0  4604              MOV      r4,r0
;;;104      const GUI_FONT_PROP GUI_UNI_PTR * pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
0000f2  4d0f              LDR      r5,|L1.304|
0000f4  4621              MOV      r1,r4
0000f6  69e8              LDR      r0,[r5,#0x1c]  ; GUI_Context
0000f8  6980              LDR      r0,[r0,#0x18]
0000fa  f7fffffe          BL       GUIPROP_FindChar
;;;105      return (pProp) ? (pProp->paCharInfo+(c-pProp->First))->XSize * GUI_Context.pAFont->XMag : 0;
0000fe  b140              CBZ      r0,|L1.274|
000100  6841              LDR      r1,[r0,#4]
000102  8800              LDRH     r0,[r0,#0]
000104  1a20              SUBS     r0,r4,r0
000106  f8110030          LDRB     r0,[r1,r0,LSL #3]
00010a  69e9              LDR      r1,[r5,#0x1c]  ; GUI_Context
00010c  7d89              LDRB     r1,[r1,#0x16]
00010e  4348              MULS     r0,r1,r0
;;;106    }
000110  bd70              POP      {r4-r6,pc}
                  |L1.274|
000112  2000              MOVS     r0,#0                 ;105
000114  bd70              POP      {r4-r6,pc}
;;;107    
                          ENDP

                  GUIPROP_GetFontInfo PROC
;;;111    */
;;;112    void GUIPROP_GetFontInfo(const GUI_FONT GUI_UNI_PTR * pFont, GUI_FONTINFO* pfi) {
000116  2001              MOVS     r0,#1
;;;113      GUI_USE_PARA(pFont);
;;;114      pfi->Flags = GUI_FONTINFO_FLAG_PROP;
000118  8008              STRH     r0,[r1,#0]
;;;115    }
00011a  4770              BX       lr
;;;116    
                          ENDP

                  GUIPROP_IsInFont PROC
;;;120    */
;;;121    char GUIPROP_IsInFont(const GUI_FONT GUI_UNI_PTR * pFont, U16 c) {
00011c  b510              PUSH     {r4,lr}
;;;122      const GUI_FONT_PROP GUI_UNI_PTR * pProp = GUIPROP_FindChar(pFont->p.pProp, c);
00011e  6980              LDR      r0,[r0,#0x18]
000120  f7fffffe          BL       GUIPROP_FindChar
;;;123      return (pProp==NULL) ? 0 : 1;
000124  b108              CBZ      r0,|L1.298|
000126  2001              MOVS     r0,#1
;;;124    }
000128  bd10              POP      {r4,pc}
                  |L1.298|
00012a  2000              MOVS     r0,#0                 ;123
00012c  bd10              POP      {r4,pc}
;;;125    
                          ENDP

00012e  0000              DCW      0x0000
                  |L1.304|
                          DCD      GUI_Context
                  |L1.308|
                          DCD      GUI_MoveRTL
