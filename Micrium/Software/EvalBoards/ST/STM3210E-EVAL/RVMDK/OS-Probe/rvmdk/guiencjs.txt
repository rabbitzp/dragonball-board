; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\guiencjs.o --depend=.\rvmdk\guiencjs.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\guiencjs.crf ..\..\..\..\..\uCGUI\GUI\Core\GUIEncJS.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=1

                  DB2SJIS PROC
;;;34     */
;;;35     static U16 DB2SJIS(U8 Byte0, U8 Byte1) {
000000  ea412000          ORR      r0,r1,r0,LSL #8
;;;36       return Byte1 | (((U16)Byte0)<<8);
;;;37     }
000004  4770              BX       lr
;;;38     
                          ENDP

                  _GetLineDistX_SJIS PROC
;;;42     */
;;;43     static int _GetLineDistX_SJIS(const char GUI_UNI_PTR *s, int Len) {
000006  b570              PUSH     {r4-r6,lr}
000008  4604              MOV      r4,r0
00000a  460d              MOV      r5,r1
;;;44       int Dist =0;
00000c  2600              MOVS     r6,#0
;;;45       if (s) {
00000e  b984              CBNZ     r4,|L1.50|
000010  e013              B        |L1.58|
                  |L1.18|
;;;46         U8 c0;
;;;47         while (((c0=*(const U8*)s) !=0) && Len >=0) {
;;;48           s++; Len--;
000012  1c64              ADDS     r4,r4,#1
000014  1e6d              SUBS     r5,r5,#1
;;;49           if (c0 > 127) {
000016  287f              CMP      r0,#0x7f
000018  d908              BLS      |L1.44|
;;;50             U8  c1 = *(const U8*)s++;
00001a  f8141b01          LDRB     r1,[r4],#1
;;;51             Len--;
00001e  1e6d              SUBS     r5,r5,#1
;;;52             Dist += GUI_GetCharDistX(DB2SJIS(c0, c1));
000020  f7fffffe          BL       DB2SJIS
000024  f7fffffe          BL       GUI_GetCharDistX
000028  4406              ADD      r6,r6,r0
;;;53           } else {
00002a  e002              B        |L1.50|
                  |L1.44|
;;;54             Dist += GUI_GetCharDistX(c0);
00002c  f7fffffe          BL       GUI_GetCharDistX
000030  4406              ADD      r6,r6,r0
                  |L1.50|
000032  7820              LDRB     r0,[r4,#0]            ;47
000034  b108              CBZ      r0,|L1.58|
000036  2d00              CMP      r5,#0                 ;47
000038  daeb              BGE      |L1.18|
                  |L1.58|
;;;55           }
;;;56         }
;;;57       }
;;;58       return Dist;
00003a  4630              MOV      r0,r6
;;;59     }
00003c  bd70              POP      {r4-r6,pc}
;;;60     
                          ENDP

                  _GetLineLen_SJIS PROC
;;;70     */
;;;71     static int _GetLineLen_SJIS(const char GUI_UNI_PTR *s, int MaxLen) {
00003e  4602              MOV      r2,r0
;;;72       int Len =0;
000040  2000              MOVS     r0,#0
;;;73       U8 c0;
;;;74       while (((c0=*(const U8*)s) !=0) && Len < MaxLen) {
000042  e008              B        |L1.86|
                  |L1.68|
;;;75         s++;
000044  1c52              ADDS     r2,r2,#1
;;;76         if (c0 > 127) {
000046  2b7f              CMP      r3,#0x7f
000048  d902              BLS      |L1.80|
;;;77           Len++; s++;
00004a  1c40              ADDS     r0,r0,#1
00004c  1c52              ADDS     r2,r2,#1
00004e  e001              B        |L1.84|
                  |L1.80|
;;;78         } else {
;;;79           switch (c0) {
000050  2b0a              CMP      r3,#0xa
000052  d005              BEQ      |L1.96|
                  |L1.84|
;;;80           case '\n': return Len;
;;;81           }
;;;82         }
;;;83         Len++;
000054  1c40              ADDS     r0,r0,#1
                  |L1.86|
000056  7813              LDRB     r3,[r2,#0]            ;74
000058  2b00              CMP      r3,#0                 ;74
00005a  d001              BEQ      |L1.96|
00005c  4288              CMP      r0,r1                 ;74
00005e  dbf1              BLT      |L1.68|
                  |L1.96|
;;;84       }
;;;85       return Len;
;;;86     }
000060  4770              BX       lr
;;;87     
                          ENDP

                  _DispLine_SJIS PROC
;;;91     */
;;;92     static void _DispLine_SJIS(const char GUI_UNI_PTR *s, int Len) {
000062  b570              PUSH     {r4-r6,lr}
000064  4604              MOV      r4,r0
;;;93       U8 c0;
;;;94       while (--Len >=0) {
000066  1e4d              SUBS     r5,r1,#1
000068  d40f              BMI      |L1.138|
                  |L1.106|
;;;95         c0=*(const U8*)s++;
00006a  f8140b01          LDRB     r0,[r4],#1
;;;96         if (c0 > 127) {
00006e  287f              CMP      r0,#0x7f
000070  d907              BLS      |L1.130|
;;;97           U8  c1 = *(const U8*)s++;
000072  f8141b01          LDRB     r1,[r4],#1
;;;98           Len--;
000076  1e6d              SUBS     r5,r5,#1
;;;99           GL_DispChar (DB2SJIS(c0, c1));
000078  f7fffffe          BL       DB2SJIS
00007c  f7fffffe          BL       GL_DispChar
;;;100        } else {
000080  e001              B        |L1.134|
                  |L1.130|
;;;101          GL_DispChar(c0);
000082  f7fffffe          BL       GL_DispChar
                  |L1.134|
000086  1e6d              SUBS     r5,r5,#1              ;94
000088  d5ef              BPL      |L1.106|
                  |L1.138|
;;;102        }
;;;103      }
;;;104    }
00008a  bd70              POP      {r4-r6,pc}
;;;105    
                          ENDP


                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  GUI_ENC_APIList_SJIS
                          DCD      _GetLineDistX_SJIS
                          DCD      _GetLineLen_SJIS
                          DCD      _DispLine_SJIS
