; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\guidemo_dialog.o --depend=.\rvmdk\guidemo_dialog.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\guidemo_dialog.crf ..\..\..\..\..\uCGUI\GUIDemo\GUIDEMO_Dialog.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  _cbCallback PROC
;;;136    */
;;;137    static void _cbCallback(WM_MESSAGE * pMsg) {
000000  b530              PUSH     {r4,r5,lr}
000002  b083              SUB      sp,sp,#0xc
;;;138      WM_HWIN hWin = pMsg->hWin;
000004  f9b05004          LDRSH    r5,[r0,#4]
;;;139      #if GUIDEMO_LARGE
;;;140        int NCode, Id;
;;;141      #endif
;;;142      switch (pMsg->MsgId) {
000008  6801              LDR      r1,[r0,#0]
00000a  290e              CMP      r1,#0xe
00000c  d03d              BEQ      |L1.138|
00000e  291d              CMP      r1,#0x1d
000010  d004              BEQ      |L1.28|
;;;143        case WM_INIT_DIALOG:
;;;144          /* Initialize all widgets */
;;;145          #if GUIDEMO_TINY
;;;146            EDIT_SetText(WM_GetDialogItem(hWin, GUI_ID_EDIT0), "EDIT");
;;;147          #else
;;;148            EDIT_SetText(WM_GetDialogItem(hWin, GUI_ID_EDIT0), "EDIT widget 0");
;;;149            EDIT_SetText(WM_GetDialogItem(hWin, GUI_ID_EDIT1), "EDIT widget 1");
;;;150          #endif
;;;151          {
;;;152            #if GUIDEMO_LARGE
;;;153              WM_HWIN hListBox;
;;;154              EDIT_SetHexMode(WM_GetDialogItem(hWin, GUI_ID_EDIT2), 0x1234, 0, 0xffffff);
;;;155              EDIT_SetBinMode(WM_GetDialogItem(hWin, GUI_ID_EDIT3), 0x1234, 0, 0xffff);
;;;156              hListBox = WM_GetDialogItem(hWin, GUI_ID_LISTBOX0);
;;;157              LISTBOX_SetText(hListBox, _apListBox);
;;;158              SCROLLBAR_CreateAttached(hListBox, SCROLLBAR_CF_VERTICAL);
;;;159            #else
;;;160              GUI_RECT Rect;
;;;161              int x, y, ySize;
;;;162              ySize = LCD_GetYSize();
;;;163              if (ySize < 120) {
;;;164                WM_ResizeWindow(hWin, 0, -24);
;;;165              }
;;;166              WM_GetWindowRectEx(hWin, &Rect);
;;;167              x = (LCD_GetXSize() - (Rect.x1 - Rect.x0 + 1)) >> 1;
;;;168              y = (ySize          - (Rect.y1 - Rect.y0 + 1)) >> 1;
;;;169              #if GUIDEMO_TINY
;;;170                WM_MoveTo(hWin, x, y);
;;;171              #else
;;;172                WM_MoveTo(hWin, x, y - 4);
;;;173              #endif
;;;174            #endif
;;;175          }
;;;176          break;
;;;177        case WM_KEY:
;;;178          switch (((WM_KEY_INFO*)(pMsg->Data.p))->Key) {
;;;179          case GUI_KEY_ESCAPE:
;;;180            GUI_EndDialog(hWin, 1);
;;;181            break;
;;;182          case GUI_KEY_ENTER:
;;;183            GUI_EndDialog(hWin, 0);
;;;184            break;
;;;185          }
;;;186          break;
;;;187      #if GUIDEMO_LARGE
;;;188        case WM_NOTIFY_PARENT:
;;;189          Id    = WM_GetId(pMsg->hWinSrc);    /* Id of widget */
;;;190          NCode = pMsg->Data.v;               /* Notification code */
;;;191          switch (NCode) {
;;;192            case WM_NOTIFICATION_RELEASED:    /* React only if released */
;;;193              if (Id == GUI_ID_OK) {          /* OK Button */
;;;194                GUI_EndDialog(hWin, 0);
;;;195              }
;;;196              if (Id == GUI_ID_CANCEL) {      /* Cancel Button */
;;;197                GUI_EndDialog(hWin, 1);
;;;198              }
;;;199              break;
;;;200            case WM_NOTIFICATION_SEL_CHANGED: /* Selection changed */
;;;201              FRAMEWIN_SetText(hWin, "Dialog - sel changed");
;;;202              break;
;;;203            default:
;;;204              FRAMEWIN_SetText(hWin, "Dialog - notification received");
;;;205          }
;;;206          break;
;;;207      #endif
;;;208        default:
;;;209          WM_DefaultProc(pMsg);
000012  b003              ADD      sp,sp,#0xc
000014  e8bd4030          POP      {r4,r5,lr}
000018  f7ffbffe          B.W      WM_DefaultProc
                  |L1.28|
00001c  f44f7180          MOV      r1,#0x100             ;148
000020  4628              MOV      r0,r5                 ;148
000022  f7fffffe          BL       WM_GetDialogItem
000026  a159              ADR      r1,|L1.396|
000028  f7fffffe          BL       EDIT_SetText
00002c  f2401101          MOV      r1,#0x101             ;149
000030  4628              MOV      r0,r5                 ;149
000032  f7fffffe          BL       WM_GetDialogItem
000036  a159              ADR      r1,|L1.412|
000038  f7fffffe          BL       EDIT_SetText
00003c  f7fffffe          BL       LCD_GetYSize
000040  4604              MOV      r4,r0                 ;162
000042  2c78              CMP      r4,#0x78              ;163
000044  da05              BGE      |L1.82|
000046  f06f0217          MVN      r2,#0x17              ;164
00004a  2100              MOVS     r1,#0                 ;164
00004c  4628              MOV      r0,r5                 ;164
00004e  f7fffffe          BL       WM_ResizeWindow
                  |L1.82|
000052  4669              MOV      r1,sp                 ;166
000054  4628              MOV      r0,r5                 ;166
000056  f7fffffe          BL       WM_GetWindowRectEx
00005a  f7fffffe          BL       LCD_GetXSize
00005e  f9bd1004          LDRSH    r1,[sp,#4]            ;167
000062  f9bd2000          LDRSH    r2,[sp,#0]            ;167
000066  1a89              SUBS     r1,r1,r2              ;167
000068  1a40              SUBS     r0,r0,r1              ;167
00006a  1e40              SUBS     r0,r0,#1              ;167
00006c  1041              ASRS     r1,r0,#1              ;167
00006e  f9bd0006          LDRSH    r0,[sp,#6]            ;168
000072  f9bd2002          LDRSH    r2,[sp,#2]            ;168
000076  1a80              SUBS     r0,r0,r2              ;168
000078  1a20              SUBS     r0,r4,r0              ;168
00007a  1e40              SUBS     r0,r0,#1              ;168
00007c  1040              ASRS     r0,r0,#1              ;168
00007e  1f02              SUBS     r2,r0,#4              ;172
000080  4628              MOV      r0,r5                 ;172
000082  f7fffffe          BL       WM_MoveTo
                  |L1.134|
;;;210      }
;;;211    }
000086  b003              ADD      sp,sp,#0xc
000088  bd30              POP      {r4,r5,pc}
                  |L1.138|
00008a  6880              LDR      r0,[r0,#8]            ;178
00008c  6800              LDR      r0,[r0,#0]            ;178
00008e  280d              CMP      r0,#0xd               ;178
000090  d008              BEQ      |L1.164|
000092  281b              CMP      r0,#0x1b              ;178
000094  d1f7              BNE      |L1.134|
000096  b003              ADD      sp,sp,#0xc            ;180
000098  4628              MOV      r0,r5                 ;180
00009a  e8bd4030          POP      {r4,r5,lr}            ;180
00009e  2101              MOVS     r1,#1                 ;180
0000a0  f7ffbffe          B.W      GUI_EndDialog
                  |L1.164|
0000a4  b003              ADD      sp,sp,#0xc            ;183
0000a6  4628              MOV      r0,r5                 ;183
0000a8  e8bd4030          POP      {r4,r5,lr}            ;183
0000ac  2100              MOVS     r1,#0                 ;183
0000ae  f7ffbffe          B.W      GUI_EndDialog
;;;212    
                          ENDP

                  GUIDEMO_Dialog PROC
;;;222    */
;;;223    void GUIDEMO_Dialog(void) {
0000b2  b5f0              PUSH     {r4-r7,lr}
0000b4  b083              SUB      sp,sp,#0xc
;;;224      int i;
;;;225      WM_HWIN hWin;
;;;226      GUI_COLOR DesktopColorOld;
;;;227      GUIDEMO_ShowIntro("Dialog boxes", "\nDialog boxes\ncan easily be created");
0000b6  a13d              ADR      r1,|L1.428|
0000b8  a045              ADR      r0,|L1.464|
0000ba  f7fffffe          BL       GUIDEMO_ShowIntro
;;;228      GUIDEMO_HideInfoWin();
0000be  f7fffffe          BL       GUIDEMO_HideInfoWin
;;;229      DesktopColorOld = WM_SetDesktopColor(GUI_RED);  /* Automatically update desktop window */
0000c2  20ff              MOVS     r0,#0xff
0000c4  f7fffffe          BL       WM_SetDesktopColor
0000c8  4607              MOV      r7,r0
;;;230      hWin = GUI_CreateDialogBox(aDialogCreate, GUI_COUNTOF(aDialogCreate), _cbCallback, 0, 0, 0);
0000ca  2300              MOVS     r3,#0
0000cc  9300              STR      r3,[sp,#0]
0000ce  4a44              LDR      r2,|L1.480|
0000d0  2108              MOVS     r1,#8
0000d2  4844              LDR      r0,|L1.484|
0000d4  9301              STR      r3,[sp,#4]
0000d6  f7fffffe          BL       GUI_CreateDialogBox
0000da  4606              MOV      r6,r0
;;;231      for (i = 0; i < GUI_COUNTOF(_aID); i++) {
0000dc  2400              MOVS     r4,#0
;;;232        GUIDEMO_Delay(_aID[i].Time);
0000de  4d42              LDR      r5,|L1.488|
                  |L1.224|
0000e0  eb0500c4          ADD      r0,r5,r4,LSL #3
0000e4  6840              LDR      r0,[r0,#4]
0000e6  f7fffffe          BL       GUIDEMO_Delay
;;;233        GUI_SendKeyMsg(_aID[i].Id, 1);
0000ea  f8150034          LDRB     r0,[r5,r4,LSL #3]
0000ee  2101              MOVS     r1,#1
0000f0  f7fffffe          BL       GUI_SendKeyMsg
0000f4  1c64              ADDS     r4,r4,#1              ;231
0000f6  2c04              CMP      r4,#4                 ;231
0000f8  d3f2              BCC      |L1.224|
;;;234      }
;;;235      #if !(GUIDEMO_TINY)
;;;236        #if !(GUIDEMO_LARGE)
;;;237          if (LCD_GetYSize() < 120) {
0000fa  f7fffffe          BL       LCD_GetYSize
0000fe  2878              CMP      r0,#0x78
000100  db16              BLT      |L1.304|
;;;238          } else
;;;239        #endif
;;;240        {
;;;241          GUIDEMO_Delay(1000);
000102  f44f707a          MOV      r0,#0x3e8
000106  f7fffffe          BL       GUIDEMO_Delay
;;;242          for (i = 0; i <= 100; i += 10) {
00010a  2400              MOVS     r4,#0
                  |L1.268|
;;;243            if (WM_IsWindow(hWin)) {
00010c  4630              MOV      r0,r6
00010e  f7fffffe          BL       WM_IsWindow
000112  b138              CBZ      r0,|L1.292|
;;;244              SLIDER_SetValue(WM_GetDialogItem(hWin, GUI_ID_SLIDER0), i);
000114  f44f7198          MOV      r1,#0x130
000118  4630              MOV      r0,r6
00011a  f7fffffe          BL       WM_GetDialogItem
00011e  4621              MOV      r1,r4
000120  f7fffffe          BL       SLIDER_SetValue
                  |L1.292|
;;;245            }
;;;246            GUIDEMO_Delay(100);
000124  2064              MOVS     r0,#0x64
000126  f7fffffe          BL       GUIDEMO_Delay
00012a  340a              ADDS     r4,r4,#0xa            ;242
00012c  2c64              CMP      r4,#0x64              ;242
00012e  dded              BLE      |L1.268|
                  |L1.304|
;;;247          }
;;;248        }
;;;249      #endif
;;;250      GUIDEMO_Delay(800);
000130  f44f7048          MOV      r0,#0x320
000134  f7fffffe          BL       GUIDEMO_Delay
;;;251      if (WM_IsWindow(hWin)) {
000138  4630              MOV      r0,r6
00013a  f7fffffe          BL       WM_IsWindow
00013e  b140              CBZ      r0,|L1.338|
;;;252        WM_MoveTo(hWin, 20, 20);
000140  2214              MOVS     r2,#0x14
000142  4611              MOV      r1,r2
000144  4630              MOV      r0,r6
000146  f7fffffe          BL       WM_MoveTo
;;;253        GUIDEMO_Delay(500);
00014a  f44f70fa          MOV      r0,#0x1f4
00014e  f7fffffe          BL       GUIDEMO_Delay
                  |L1.338|
;;;254      }
;;;255      if (WM_IsWindow(hWin)) {
000152  4630              MOV      r0,r6
000154  f7fffffe          BL       WM_IsWindow
000158  b140              CBZ      r0,|L1.364|
;;;256        WM_MoveTo(hWin, 60, 20);
00015a  2214              MOVS     r2,#0x14
00015c  213c              MOVS     r1,#0x3c
00015e  4630              MOV      r0,r6
000160  f7fffffe          BL       WM_MoveTo
;;;257        GUIDEMO_Delay(800);
000164  f44f7048          MOV      r0,#0x320
000168  f7fffffe          BL       GUIDEMO_Delay
                  |L1.364|
;;;258      }
;;;259      /* Cleanup ... */
;;;260      if (WM_IsWindow(hWin)) {
00016c  4630              MOV      r0,r6
00016e  f7fffffe          BL       WM_IsWindow
000172  b110              CBZ      r0,|L1.378|
;;;261        WM_DeleteWindow(hWin);
000174  4630              MOV      r0,r6
000176  f7fffffe          BL       WM_DeleteWindow
                  |L1.378|
;;;262      }
;;;263      GUIDEMO_NotifyStartNext();
00017a  f7fffffe          BL       GUIDEMO_NotifyStartNext
;;;264      WM_SetDesktopColor(DesktopColorOld);   /* Restore old settings */
00017e  b003              ADD      sp,sp,#0xc
000180  4638              MOV      r0,r7
000182  e8bd40f0          POP      {r4-r7,lr}
000186  f7ffbffe          B.W      WM_SetDesktopColor
;;;265    }
;;;266    
                          ENDP

00018a  0000              DCW      0x0000
                  |L1.396|
00018c  45444954          DCB      "EDIT widget 0",0
000190  20776964
000194  67657420
000198  3000    
00019a  00                DCB      0
00019b  00                DCB      0
                  |L1.412|
00019c  45444954          DCB      "EDIT widget 1",0
0001a0  20776964
0001a4  67657420
0001a8  3100    
0001aa  00                DCB      0
0001ab  00                DCB      0
                  |L1.428|
0001ac  0a446961          DCB      "\nDialog boxes\ncan easily be created",0
0001b0  6c6f6720
0001b4  626f7865
0001b8  730a6361
0001bc  6e206561
0001c0  73696c79
0001c4  20626520
0001c8  63726561
0001cc  74656400
                  |L1.464|
0001d0  4469616c          DCB      "Dialog boxes",0
0001d4  6f672062
0001d8  6f786573
0001dc  00      
0001dd  00                DCB      0
0001de  00                DCB      0
0001df  00                DCB      0
                  |L1.480|
                          DCD      _cbCallback
                  |L1.484|
                          DCD      ||.constdata||
                  |L1.488|
                          DCD      ||.data||

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  aDialogCreate
                          DCD      FRAMEWIN_CreateIndirect
                          DCD      ||.conststring||
000008  0000000a          DCW      0x0000,0x000a
00000c  000a0084          DCW      0x000a,0x0084
000010  00710010          DCW      0x0071,0x0010
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0x7
000020  00010005          DCW      0x0001,0x0005
000024  00050037          DCW      0x0005,0x0037
000028  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      BUTTON_CreateIndirect
                          DCD      ||.conststring||+0xa
000038  00020041          DCW      0x0002,0x0041
00003c  00050037          DCW      0x0005,0x0037
000040  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x11
000050  00000005          DCW      0x0000,0x0005
000054  00200021          DCW      0x0020,0x0021
000058  000f0000          DCW      0x000f,0x0000
                          DCD      0x00000000
                          DCD      TEXT_CreateIndirect
                          DCD      ||.conststring||+0x17
000068  00000005          DCW      0x0000,0x0005
00006c  00340021          DCW      0x0034,0x0021
000070  000f0001          DCW      0x000f,0x0001
                          DCD      0x00000000
                          DCD      EDIT_CreateIndirect
                          DCD      ||.conststring||+0x1d
000080  01000028          DCW      0x0100,0x0028
000084  00200050          DCW      0x0020,0x0050
000088  000f0000          DCW      0x000f,0x0000
                          DCD      0x00000032
                          DCD      EDIT_CreateIndirect
                          DCD      ||.conststring||+0x1d
000098  01010028          DCW      0x0101,0x0028
00009c  00340050          DCW      0x0034,0x0050
0000a0  000f0001          DCW      0x000f,0x0001
                          DCD      0x00000032
                          DCD      SLIDER_CreateIndirect
                          DCD      0x00000000
0000b0  01300005          DCW      0x0130,0x0005
0000b4  004a0074          DCW      0x004a,0x0074
0000b8  00140000          DCW      0x0014,0x0000
                          DCD      0x00000000

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=0

000000  4469616c          DCB      "Dialog",0
000004  6f6700  
000007  4f4b00            DCB      "OK",0
00000a  43616e63          DCB      "Cancel",0
00000e  656c00  
000011  4c546578          DCB      "LText",0
000015  7400    
000017  52546578          DCB      "RText",0
00001b  7400    
00001d  00                DCB      0

                          AREA ||.data||, DATA, ALIGN=2

                  _aID
000000  09000000          DCB      0x09,0x00,0x00,0x00
                          DCD      0x00000190
000008  09000000          DCB      0x09,0x00,0x00,0x00
                          DCD      0x00000190
000010  09000000          DCB      0x09,0x00,0x00,0x00
                          DCD      0x00000190
000018  09000000          DCB      0x09,0x00,0x00,0x00
                          DCD      0x00000190
