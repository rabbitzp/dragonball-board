; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\framewin_buttonclose.o --depend=.\rvmdk\framewin_buttonclose.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\framewin_buttonclose.crf ..\..\..\..\..\uCGUI\GUI\Widget\FRAMEWIN_ButtonClose.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  _cbClose PROC
;;;47     */
;;;48     static void _cbClose(WM_MESSAGE* pMsg) {
000000  6801              LDR      r1,[r0,#0]
;;;49       if (pMsg->MsgId == WM_NOTIFY_PARENT_REFLECTION) {
000002  2927              CMP      r1,#0x27
000004  d001              BEQ      |L1.10|
;;;50         WM_DeleteWindow(pMsg->hWinSrc);
;;;51         return;                                       /* We are done ! */
;;;52       }
;;;53       BUTTON_Callback(pMsg);
000006  f7ffbffe          B.W      BUTTON_Callback
                  |L1.10|
00000a  f9b00006          LDRSH    r0,[r0,#6]            ;50
00000e  f7ffbffe          B.W      WM_DeleteWindow
;;;54     }
;;;55     
                          ENDP

                  _Draw PROC
;;;59     */
;;;60     static void _Draw(void) {
000012  b530              PUSH     {r4,r5,lr}
000014  b083              SUB      sp,sp,#0xc
;;;61       GUI_RECT r;
;;;62       int i, Size;
;;;63       WM_GetInsideRect(&r);
000016  4668              MOV      r0,sp
000018  f7fffffe          BL       WM_GetInsideRect
;;;64       WM_ADDORG(r.x0, r.y0);
00001c  4927              LDR      r1,|L1.188|
00001e  f8bd0000          LDRH     r0,[sp,#0]
000022  6c4a              LDR      r2,[r1,#0x44]  ; GUI_Context
000024  4410              ADD      r0,r0,r2
000026  b200              SXTH     r0,r0
000028  f8ad0000          STRH     r0,[sp,#0]
00002c  f8bd3002          LDRH     r3,[sp,#2]
000030  6c89              LDR      r1,[r1,#0x48]  ; GUI_Context
000032  440b              ADD      r3,r3,r1
000034  f8ad3002          STRH     r3,[sp,#2]
;;;65       WM_ADDORG(r.x1, r.y1);
000038  f8bd3004          LDRH     r3,[sp,#4]
00003c  441a              ADD      r2,r2,r3
00003e  b212              SXTH     r2,r2
000040  f8ad2004          STRH     r2,[sp,#4]
000044  f8bd3006          LDRH     r3,[sp,#6]
000048  4419              ADD      r1,r1,r3
00004a  f8ad1006          STRH     r1,[sp,#6]
;;;66       Size = r.x1 - r.x0 - 2;
00004e  1a10              SUBS     r0,r2,r0
000050  1e85              SUBS     r5,r0,#2
;;;67       WM_ITERATE_START(&r); {
000052  4668              MOV      r0,sp
000054  f7fffffe          BL       WM__InitIVRSearch
000058  2800              CMP      r0,#0
00005a  d01c              BEQ      |L1.150|
                  |L1.92|
;;;68         for (i = 2; i < Size; i++) {
00005c  2402              MOVS     r4,#2
00005e  2d02              CMP      r5,#2
000060  dd15              BLE      |L1.142|
                  |L1.98|
;;;69           LCD_DrawHLine(r.x0 + i,     r.y0 + i, r.x0 + i + 1);
000062  f9bd0000          LDRSH    r0,[sp,#0]
000066  1c61              ADDS     r1,r4,#1
000068  1842              ADDS     r2,r0,r1
00006a  f9bd1002          LDRSH    r1,[sp,#2]
00006e  4420              ADD      r0,r0,r4
000070  4421              ADD      r1,r1,r4
000072  f7fffffe          BL       LCD_DrawHLine
;;;70           LCD_DrawHLine(r.x1 - i - 1, r.y0 + i, r.x1 - i);
000076  f9bd0004          LDRSH    r0,[sp,#4]
00007a  1b02              SUBS     r2,r0,r4
00007c  f9bd0002          LDRSH    r0,[sp,#2]
000080  1901              ADDS     r1,r0,r4
000082  1e50              SUBS     r0,r2,#1
000084  f7fffffe          BL       LCD_DrawHLine
000088  1c64              ADDS     r4,r4,#1              ;68
00008a  42ac              CMP      r4,r5                 ;68
00008c  dbe9              BLT      |L1.98|
                  |L1.142|
;;;71         }
;;;72       } WM_ITERATE_END();
00008e  f7fffffe          BL       WM__GetNextIVR
000092  2800              CMP      r0,#0
000094  d1e2              BNE      |L1.92|
                  |L1.150|
;;;73     }
000096  b003              ADD      sp,sp,#0xc
000098  bd30              POP      {r4,r5,pc}
;;;74     
                          ENDP

                  FRAMEWIN_AddCloseButton PROC
;;;85     */
;;;86     WM_HWIN FRAMEWIN_AddCloseButton(FRAMEWIN_Handle hObj, int Flags, int Off) {
00009a  b510              PUSH     {r4,lr}
;;;87       WM_HWIN hButton;
;;;88       hButton = FRAMEWIN_AddButton(hObj, Flags, Off, GUI_ID_CLOSE);
00009c  2305              MOVS     r3,#5
00009e  f7fffffe          BL       FRAMEWIN_AddButton
0000a2  4604              MOV      r4,r0
;;;89       BUTTON_SetSelfDraw(hButton, 0, &_Draw);
0000a4  4a06              LDR      r2,|L1.192|
0000a6  2100              MOVS     r1,#0
0000a8  4620              MOV      r0,r4
0000aa  f7fffffe          BL       BUTTON_SetSelfDraw
;;;90       WM_SetCallback(hButton, _cbClose);
0000ae  4905              LDR      r1,|L1.196|
0000b0  4620              MOV      r0,r4
0000b2  f7fffffe          BL       WM_SetCallback
;;;91       return hButton;
0000b6  4620              MOV      r0,r4
;;;92     }
0000b8  bd10              POP      {r4,pc}
;;;93     
                          ENDP

0000ba  0000              DCW      0x0000
                  |L1.188|
                          DCD      GUI_Context
                  |L1.192|
                          DCD      _Draw
                  |L1.196|
                          DCD      _cbClose
