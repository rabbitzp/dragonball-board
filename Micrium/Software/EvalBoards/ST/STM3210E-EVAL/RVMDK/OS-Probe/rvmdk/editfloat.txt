; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\editfloat.o --depend=.\rvmdk\editfloat.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\editfloat.crf ..\..\..\..\..\uCGUI\GUI\Widget\EDITFloat.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  EDIT_SetFloatMode PROC
;;;36     */
;;;37     void EDIT_SetFloatMode(EDIT_Handle hEdit, float Value, float Min, float Max, int Shift, U8 Flags) {
000000  e92d4ff0          PUSH     {r4-r11,lr}
000004  b083              SUB      sp,sp,#0xc
000006  4605              MOV      r5,r0
000008  9f0d              LDR      r7,[sp,#0x34]
00000a  9c0c              LDR      r4,[sp,#0x30]
00000c  460e              MOV      r6,r1
00000e  4691              MOV      r9,r2
000010  469a              MOV      r10,r3
;;;38       I32 _Value, _Min, _Max;
;;;39       float Scale;
;;;40       if (hEdit) {
000012  2d00              CMP      r5,#0
000014  d042              BEQ      |L1.156|
;;;41         WM_LOCK();
000016  f7fffffe          BL       GUI_Lock
;;;42         Scale  =(float)GUI_Pow10[Shift];
00001a  4847              LDR      r0,|L1.312|
00001c  f8500024          LDR      r0,[r0,r4,LSL #2]
000020  f7fffffe          BL       __aeabi_ui2f
000024  4683              MOV      r11,r0
;;;43         _Value = floor(Scale * Value + 0.5);
000026  4631              MOV      r1,r6
000028  4658              MOV      r0,r11
00002a  f7fffffe          BL       __aeabi_fmul
00002e  f7fffffe          BL       __aeabi_f2d
000032  f8df8108          LDR      r8,|L1.316|
000036  2200              MOVS     r2,#0
000038  4643              MOV      r3,r8
00003a  f7fffffe          BL       __aeabi_dadd
00003e  f7fffffe          BL       floor
000042  f7fffffe          BL       __aeabi_d2iz
000046  4606              MOV      r6,r0
;;;44         _Min   = floor(Scale * Min + 0.5);
000048  4649              MOV      r1,r9
00004a  4658              MOV      r0,r11
00004c  f7fffffe          BL       __aeabi_fmul
000050  f7fffffe          BL       __aeabi_f2d
000054  2200              MOVS     r2,#0
000056  4643              MOV      r3,r8
000058  f7fffffe          BL       __aeabi_dadd
00005c  f7fffffe          BL       floor
000060  f7fffffe          BL       __aeabi_d2iz
000064  4681              MOV      r9,r0
;;;45         _Max   = floor(Scale * Max + 0.5);
000066  4651              MOV      r1,r10
000068  4658              MOV      r0,r11
00006a  f7fffffe          BL       __aeabi_fmul
00006e  f7fffffe          BL       __aeabi_f2d
000072  2200              MOVS     r2,#0
000074  4643              MOV      r3,r8
000076  f7fffffe          BL       __aeabi_dadd
00007a  f7fffffe          BL       floor
00007e  f7fffffe          BL       __aeabi_d2iz
;;;46         EDIT_SetDecMode(hEdit, _Value, _Min, _Max, Shift, Flags);
000082  4603              MOV      r3,r0
000084  464a              MOV      r2,r9
000086  4631              MOV      r1,r6
000088  4628              MOV      r0,r5
00008a  9701              STR      r7,[sp,#4]
00008c  9400              STR      r4,[sp,#0]
00008e  f7fffffe          BL       EDIT_SetDecMode
;;;47         WM_UNLOCK();
000092  b003              ADD      sp,sp,#0xc
000094  e8bd4ff0          POP      {r4-r11,lr}
000098  f7ffbffe          B.W      GUI_Unlock
                  |L1.156|
;;;48       }
;;;49     }
00009c  b003              ADD      sp,sp,#0xc
00009e  e8bd8ff0          POP      {r4-r11,pc}
;;;50     
                          ENDP

                  EDIT_GetFloatValue PROC
;;;54     */
;;;55     float EDIT_GetFloatValue(EDIT_Handle hObj) {
0000a2  b570              PUSH     {r4-r6,lr}
0000a4  4605              MOV      r5,r0
;;;56       float Value = 0;
0000a6  2400              MOVS     r4,#0
;;;57       if (hObj) {
0000a8  b1b5              CBZ      r5,|L1.216|
;;;58         float Scale;
;;;59         EDIT_Obj * pObj;
;;;60         WM_LOCK();
0000aa  f7fffffe          BL       GUI_Lock
;;;61         pObj  = EDIT_H2P(hObj);
0000ae  4628              MOV      r0,r5
0000b0  f7fffffe          BL       GUI_ALLOC_h2p
0000b4  4604              MOV      r4,r0
;;;62         Scale = (float)GUI_Pow10[pObj->NumDecs];
0000b6  4920              LDR      r1,|L1.312|
0000b8  f8940038          LDRB     r0,[r4,#0x38]
0000bc  f8510020          LDR      r0,[r1,r0,LSL #2]
0000c0  f7fffffe          BL       __aeabi_ui2f
0000c4  4605              MOV      r5,r0
;;;63         Value = (float)(I32)pObj->CurrentValue / Scale;
0000c6  6be0              LDR      r0,[r4,#0x3c]
0000c8  f7fffffe          BL       __aeabi_i2f
0000cc  4629              MOV      r1,r5
0000ce  f7fffffe          BL       __aeabi_fdiv
0000d2  4604              MOV      r4,r0
;;;64         WM_UNLOCK();
0000d4  f7fffffe          BL       GUI_Unlock
                  |L1.216|
;;;65       }
;;;66       return Value;
0000d8  4620              MOV      r0,r4
;;;67     }
0000da  bd70              POP      {r4-r6,pc}
;;;68     
                          ENDP

                  EDIT_SetFloatValue PROC
;;;72     */
;;;73     void EDIT_SetFloatValue(EDIT_Handle hObj, float Value) {
0000dc  b570              PUSH     {r4-r6,lr}
0000de  4604              MOV      r4,r0
0000e0  460d              MOV      r5,r1
;;;74       if (hObj) {
0000e2  2c00              CMP      r4,#0
0000e4  d027              BEQ      |L1.310|
;;;75         float Scale;
;;;76         EDIT_Obj * pObj;
;;;77         WM_LOCK();
0000e6  f7fffffe          BL       GUI_Lock
;;;78         pObj  = EDIT_H2P(hObj);
0000ea  4620              MOV      r0,r4
0000ec  f7fffffe          BL       GUI_ALLOC_h2p
;;;79         Scale = (float)GUI_Pow10[pObj->NumDecs];
0000f0  f8900038          LDRB     r0,[r0,#0x38]
0000f4  4910              LDR      r1,|L1.312|
0000f6  f8510020          LDR      r0,[r1,r0,LSL #2]
0000fa  f7fffffe          BL       __aeabi_ui2f
;;;80         Value *= Scale;
0000fe  4601              MOV      r1,r0
000100  4628              MOV      r0,r5
000102  f7fffffe          BL       __aeabi_fmul
000106  4605              MOV      r5,r0
;;;81         EDIT_SetValue(hObj, (I32)(Value + (Value >= 0 ? 0.5 : -0.5)));
000108  4628              MOV      r0,r5
00010a  f7fffffe          BL       __aeabi_f2d
00010e  f1154fff          CMN      r5,#0x7f800000
000112  d202              BCS      |L1.282|
000114  2200              MOVS     r2,#0
000116  4b09              LDR      r3,|L1.316|
000118  e001              B        |L1.286|
                  |L1.282|
00011a  2200              MOVS     r2,#0
00011c  4b08              LDR      r3,|L1.320|
                  |L1.286|
00011e  f7fffffe          BL       __aeabi_dadd
000122  f7fffffe          BL       __aeabi_d2iz
000126  4601              MOV      r1,r0
000128  4620              MOV      r0,r4
00012a  f7fffffe          BL       EDIT_SetValue
;;;82         WM_UNLOCK();
00012e  e8bd4070          POP      {r4-r6,lr}
000132  f7ffbffe          B.W      GUI_Unlock
                  |L1.310|
;;;83       }
;;;84     }
000136  bd70              POP      {r4-r6,pc}
;;;85     
                          ENDP

                  |L1.312|
                          DCD      GUI_Pow10
                  |L1.316|
                          DCD      0x3fe00000
                  |L1.320|
                          DCD      0xbfe00000
