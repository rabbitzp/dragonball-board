; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\framewin__updatebuttons.o --depend=.\rvmdk\framewin__updatebuttons.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\framewin__updatebuttons.crf ..\..\..\..\..\uCGUI\GUI\Widget\FRAMEWIN__UpdateButtons.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=1

                  FRAMEWIN__UpdateButtons PROC
;;;40     */
;;;41     void FRAMEWIN__UpdateButtons(FRAMEWIN_Obj* pObj, int OldHeight) {
000000  e92d4ff3          PUSH     {r0,r1,r4-r11,lr}
000004  b083              SUB      sp,sp,#0xc
000006  4605              MOV      r5,r0
;;;42       int TitleHeight = FRAMEWIN__CalcTitleHeight(pObj);
000008  4628              MOV      r0,r5
00000a  f7fffffe          BL       FRAMEWIN__CalcTitleHeight
;;;43       int Diff = TitleHeight - OldHeight;
00000e  9904              LDR      r1,[sp,#0x10]
000010  1a40              SUBS     r0,r0,r1
000012  9002              STR      r0,[sp,#8]
;;;44       if (Diff) {
000014  9802              LDR      r0,[sp,#8]
000016  2800              CMP      r0,#0
000018  d060              BEQ      |L1.220|
;;;45         WM_HWIN hLeft;
;;;46         WM_HWIN hRight;
;;;47         WM_HWIN hChild;
;;;48         WM_Obj* pChild;
;;;49         GUI_RECT r;
;;;50         int xLeft, xRight, n;
;;;51         n = 0;
00001a  f04f0b00          MOV      r11,#0
                  |L1.30|
;;;52         do {
;;;53           hLeft  = hRight = 0;
00001e  2700              MOVS     r7,#0
000020  46b8              MOV      r8,r7
;;;54           xLeft  = GUI_XMAX;
000022  f64079ff          MOV      r9,#0xfff
;;;55           xRight = GUI_XMIN;
000026  f1c90a00          RSB      r10,r9,#0
;;;56           for (hChild = pObj->Widget.Win.hFirstChild; hChild; hChild = pChild->hNext) {
00002a  f9b54018          LDRSH    r4,[r5,#0x18]
00002e  b39c              CBZ      r4,|L1.152|
                  |L1.48|
;;;57             pChild = WM_H2P(hChild);
000030  4620              MOV      r0,r4
000032  f7fffffe          BL       GUI_ALLOC_h2p
000036  4606              MOV      r6,r0
;;;58             r = pChild->Rect;
000038  6871              LDR      r1,[r6,#4]
00003a  6830              LDR      r0,[r6,#0]
00003c  9101              STR      r1,[sp,#4]
00003e  9000              STR      r0,[sp,#0]
;;;59             GUI_MoveRect(&r, -pObj->Widget.Win.Rect.x0, -pObj->Widget.Win.Rect.y0);
000040  f9b50002          LDRSH    r0,[r5,#2]
000044  4242              RSBS     r2,r0,#0
000046  f9b50000          LDRSH    r0,[r5,#0]
00004a  4241              RSBS     r1,r0,#0
00004c  4668              MOV      r0,sp
00004e  f7fffffe          BL       GUI_MoveRect
;;;60             if ((r.y0 == pObj->Props.BorderSize) && ((r.y1 - r.y0 + 1) == OldHeight)) {
000052  f9bd0002          LDRSH    r0,[sp,#2]
000056  f9b51042          LDRSH    r1,[r5,#0x42]
00005a  4288              CMP      r0,r1
00005c  d118              BNE      |L1.144|
00005e  f9bd1006          LDRSH    r1,[sp,#6]
000062  1a08              SUBS     r0,r1,r0
000064  1c41              ADDS     r1,r0,#1
000066  9804              LDR      r0,[sp,#0x10]
000068  4281              CMP      r1,r0
00006a  d111              BNE      |L1.144|
;;;61               if (pChild->Status & WM_SF_ANCHOR_RIGHT) {
00006c  8bb0              LDRH     r0,[r6,#0x1c]
00006e  f0100f80          TST      r0,#0x80
000072  d007              BEQ      |L1.132|
;;;62                 if (r.x1 > xRight) {
000074  f9bd0004          LDRSH    r0,[sp,#4]
000078  4550              CMP      r0,r10
00007a  dd09              BLE      |L1.144|
;;;63                   hRight = hChild;
00007c  46a0              MOV      r8,r4
;;;64                   xRight = r.x0;
00007e  f9bda000          LDRSH    r10,[sp,#0]
000082  e005              B        |L1.144|
                  |L1.132|
;;;65                 }
;;;66               } else {
;;;67                 if (r.x0 < xLeft) {
000084  f9bd0000          LDRSH    r0,[sp,#0]
000088  4548              CMP      r0,r9
00008a  da01              BGE      |L1.144|
;;;68                   hLeft = hChild;
00008c  4627              MOV      r7,r4
;;;69                   xLeft = r.x0;
00008e  4681              MOV      r9,r0
                  |L1.144|
000090  f9b6401a          LDRSH    r4,[r6,#0x1a]         ;56
000094  2c00              CMP      r4,#0                 ;56
000096  d1cb              BNE      |L1.48|
                  |L1.152|
;;;70                 }
;;;71               }
;;;72             }
;;;73           }
;;;74           if (hLeft) {
000098  b15f              CBZ      r7,|L1.178|
;;;75             WM_ResizeWindow(hLeft, Diff, Diff);
00009a  9a02              LDR      r2,[sp,#8]
00009c  4638              MOV      r0,r7
00009e  4611              MOV      r1,r2
0000a0  f7fffffe          BL       WM_ResizeWindow
;;;76             WM_MoveWindow(hLeft, n * Diff, 0);
0000a4  9802              LDR      r0,[sp,#8]
0000a6  2200              MOVS     r2,#0
0000a8  fb0bf100          MUL      r1,r11,r0
0000ac  4638              MOV      r0,r7
0000ae  f7fffffe          BL       WM_MoveWindow
                  |L1.178|
;;;77           }
;;;78           if (hRight) {
0000b2  f1b80f00          CMP      r8,#0
0000b6  d00c              BEQ      |L1.210|
;;;79             WM_ResizeWindow(hRight, Diff, Diff);
0000b8  9a02              LDR      r2,[sp,#8]
0000ba  4640              MOV      r0,r8
0000bc  4611              MOV      r1,r2
0000be  f7fffffe          BL       WM_ResizeWindow
;;;80             WM_MoveWindow(hRight, -(n * Diff), 0);
0000c2  9802              LDR      r0,[sp,#8]
0000c4  2200              MOVS     r2,#0
0000c6  fb0bf000          MUL      r0,r11,r0
0000ca  4241              RSBS     r1,r0,#0
0000cc  4640              MOV      r0,r8
0000ce  f7fffffe          BL       WM_MoveWindow
                  |L1.210|
;;;81           }
;;;82           n++;
0000d2  f10b0b01          ADD      r11,r11,#1
;;;83         } while (hLeft || hRight);
0000d6  ea570008          ORRS     r0,r7,r8
0000da  d1a0              BNE      |L1.30|
                  |L1.220|
;;;84       }
;;;85     }
0000dc  b005              ADD      sp,sp,#0x14
0000de  e8bd8ff0          POP      {r4-r11,pc}
;;;86     
                          ENDP

