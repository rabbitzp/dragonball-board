; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\guiaapoly.o --depend=.\rvmdk\guiaapoly.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\guiaapoly.crf ..\..\..\..\..\uCGUI\GUI\AntiAlias\GUIAAPoly.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  _FillPolygonAA PROC
;;;37     */
;;;38     static void _FillPolygonAA(GUI_POINT* paPoint, int NumPoints, int x, int y) {
000000  e92d47f0          PUSH     {r4-r10,lr}
000004  4604              MOV      r4,r0
000006  460d              MOV      r5,r1
000008  4616              MOV      r6,r2
00000a  4699              MOV      r9,r3
;;;39       int i;
;;;40       int Stat;
;;;41       int x0,x1;
;;;42       int PosFactor = GUI_Context.AA_HiResEnable ? 1 : GUI_Context.AA_Factor;
00000c  f8df8130          LDR      r8,|L1.320|
000010  4640              MOV      r0,r8
000012  f898a061          LDRB     r10,[r8,#0x61]  ; GUI_Context
000016  f890c060          LDRB     r12,[r0,#0x60]
00001a  f1ba0f00          CMP      r10,#0
00001e  d001              BEQ      |L1.36|
000020  2701              MOVS     r7,#1
000022  e000              B        |L1.38|
                  |L1.36|
000024  4667              MOV      r7,r12
                  |L1.38|
;;;43     /* Calc horizontal limits and init GUI_AA */
;;;44       x0 = x1 = paPoint[0].x;
000026  f9b42000          LDRSH    r2,[r4,#0]
00002a  4613              MOV      r3,r2
;;;45       for (i=1; i< NumPoints; i++) {
00002c  2101              MOVS     r1,#1
00002e  2d01              CMP      r5,#1
000030  dd0a              BLE      |L1.72|
                  |L1.50|
;;;46         int x =  paPoint[i].x;
000032  f9340021          LDRSH    r0,[r4,r1,LSL #2]
;;;47         if (x<x0)
000036  4290              CMP      r0,r2
000038  da00              BGE      |L1.60|
;;;48           x0 = x;
00003a  4602              MOV      r2,r0
                  |L1.60|
;;;49         if (x>x1)
00003c  4298              CMP      r0,r3
00003e  dd00              BLE      |L1.66|
;;;50           x1 = x;
000040  4603              MOV      r3,r0
                  |L1.66|
000042  1c49              ADDS     r1,r1,#1              ;45
000044  42a9              CMP      r1,r5                 ;45
000046  dbf4              BLT      |L1.50|
                  |L1.72|
;;;51       }
;;;52       if (!GUI_Context.AA_HiResEnable) {
000048  f1ba0f00          CMP      r10,#0
00004c  d009              BEQ      |L1.98|
;;;53         Stat = GUI_AA_Init(x0+x,x1+x);
;;;54       } else {
;;;55         Stat = GUI_AA_Init((x0+x)/GUI_Context.AA_Factor,(x1+x)/GUI_Context.AA_Factor);
00004e  1998              ADDS     r0,r3,r6
000050  fb90f1fc          SDIV     r1,r0,r12
000054  1990              ADDS     r0,r2,r6
000056  fb90f0fc          SDIV     r0,r0,r12
00005a  f7fffffe          BL       GUI_AA_Init
                  |L1.94|
;;;56       }
;;;57       if (Stat ==0) {
00005e  b128              CBZ      r0,|L1.108|
000060  e03d              B        |L1.222|
                  |L1.98|
000062  1999              ADDS     r1,r3,r6              ;53
000064  1990              ADDS     r0,r2,r6              ;53
000066  f7fffffe          BL       GUI_AA_Init
00006a  e7f8              B        |L1.94|
                  |L1.108|
;;;58         /* Modify pointlist */
;;;59         if (!GUI_Context.AA_HiResEnable) {
00006c  f8980061          LDRB     r0,[r8,#0x61]  ; GUI_Context
000070  b998              CBNZ     r0,|L1.154|
;;;60           for (i=0; i< NumPoints; i++) {
000072  2000              MOVS     r0,#0
000074  2d00              CMP      r5,#0
000076  dd10              BLE      |L1.154|
                  |L1.120|
;;;61             paPoint[i].x *= GUI_Context.AA_Factor;
000078  f8341020          LDRH     r1,[r4,r0,LSL #2]
00007c  f8982060          LDRB     r2,[r8,#0x60]  ; GUI_Context
000080  4351              MULS     r1,r2,r1
000082  f8241020          STRH     r1,[r4,r0,LSL #2]
;;;62             paPoint[i].y *= GUI_Context.AA_Factor;
000086  eb040180          ADD      r1,r4,r0,LSL #2
00008a  f8983060          LDRB     r3,[r8,#0x60]  ; GUI_Context
00008e  884a              LDRH     r2,[r1,#2]
000090  435a              MULS     r2,r3,r2
000092  804a              STRH     r2,[r1,#2]
000094  1c40              ADDS     r0,r0,#1              ;60
000096  42a8              CMP      r0,r5                 ;60
000098  dbee              BLT      |L1.120|
                  |L1.154|
;;;63           }
;;;64         }
;;;65         GL_FillPolygon(paPoint, NumPoints, x * PosFactor, y * PosFactor);
00009a  fb09f307          MUL      r3,r9,r7
00009e  fb06f207          MUL      r2,r6,r7
0000a2  4629              MOV      r1,r5
0000a4  4620              MOV      r0,r4
0000a6  f7fffffe          BL       GL_FillPolygon
;;;66         /* Restore pointlist */
;;;67         if (!GUI_Context.AA_HiResEnable) {
0000aa  f8980061          LDRB     r0,[r8,#0x61]  ; GUI_Context
0000ae  b9b0              CBNZ     r0,|L1.222|
;;;68           for (i=0; i< NumPoints; i++) {
0000b0  2000              MOVS     r0,#0
0000b2  2d00              CMP      r5,#0
0000b4  dd13              BLE      |L1.222|
                  |L1.182|
;;;69             paPoint[i].x /= GUI_Context.AA_Factor;
0000b6  f9341020          LDRSH    r1,[r4,r0,LSL #2]
0000ba  f8982060          LDRB     r2,[r8,#0x60]  ; GUI_Context
0000be  fb91f1f2          SDIV     r1,r1,r2
0000c2  f8241020          STRH     r1,[r4,r0,LSL #2]
;;;70             paPoint[i].y /= GUI_Context.AA_Factor;
0000c6  eb040180          ADD      r1,r4,r0,LSL #2
0000ca  f8983060          LDRB     r3,[r8,#0x60]  ; GUI_Context
0000ce  f9b12002          LDRSH    r2,[r1,#2]
0000d2  fb92f2f3          SDIV     r2,r2,r3
0000d6  804a              STRH     r2,[r1,#2]
0000d8  1c40              ADDS     r0,r0,#1              ;68
0000da  42a8              CMP      r0,r5                 ;68
0000dc  dbeb              BLT      |L1.182|
                  |L1.222|
;;;71           }
;;;72         }
;;;73         /* Cleanup */
;;;74       }
;;;75       GUI_AA_Exit();
0000de  e8bd47f0          POP      {r4-r10,lr}
0000e2  f7ffbffe          B.W      GUI_AA_Exit
;;;76     }
;;;77     
                          ENDP

                  GUI_AA_FillPolygon PROC
;;;87     */
;;;88     void GUI_AA_FillPolygon(/*const*/ GUI_POINT* pPoints, int NumPoints, int x0, int y0) {
0000e6  e92d41f0          PUSH     {r4-r8,lr}
0000ea  4607              MOV      r7,r0
0000ec  4688              MOV      r8,r1
0000ee  4615              MOV      r5,r2
0000f0  461c              MOV      r4,r3
;;;89       GUI_LOCK();
0000f2  f7fffffe          BL       GUI_Lock
;;;90       #if (GUI_WINSUPPORT)
;;;91         WM_ADDORG_AA(x0,y0);
0000f6  f7fffffe          BL       WM__GetOrgX_AA
0000fa  4405              ADD      r5,r5,r0
0000fc  f7fffffe          BL       WM__GetOrgY_AA
000100  1906              ADDS     r6,r0,r4
;;;92         WM_ITERATE_START(NULL); {
000102  2000              MOVS     r0,#0
000104  f7fffffe          BL       WM__InitIVRSearch
000108  b1b0              CBZ      r0,|L1.312|
;;;93       #endif
;;;94     /* Variables in MEMDEV module (with memory devices only) */
;;;95       #if GUI_SUPPORT_MEMDEV
;;;96         if (GUI_Context.pDeviceAPI->pfFillPolygonAA)
00010a  4c0d              LDR      r4,|L1.320|
                  |L1.268|
00010c  6ce0              LDR      r0,[r4,#0x4c]  ; GUI_Context
00010e  f8d0c038          LDR      r12,[r0,#0x38]
000112  f1bc0f00          CMP      r12,#0
000116  d005              BEQ      |L1.292|
;;;97           GUI_Context.pDeviceAPI->pfFillPolygonAA(pPoints, NumPoints, x0, y0);
000118  4633              MOV      r3,r6
00011a  462a              MOV      r2,r5
00011c  4641              MOV      r1,r8
00011e  4638              MOV      r0,r7
000120  47e0              BLX      r12
000122  e005              B        |L1.304|
                  |L1.292|
;;;98         else
;;;99       #endif
;;;100      _FillPolygonAA (pPoints, NumPoints, x0, y0);
000124  4633              MOV      r3,r6
000126  462a              MOV      r2,r5
000128  4641              MOV      r1,r8
00012a  4638              MOV      r0,r7
00012c  f7fffffe          BL       _FillPolygonAA
                  |L1.304|
;;;101      #if (GUI_WINSUPPORT)
;;;102        } WM_ITERATE_END();
000130  f7fffffe          BL       WM__GetNextIVR
000134  2800              CMP      r0,#0
000136  d1e9              BNE      |L1.268|
                  |L1.312|
;;;103      #endif
;;;104      GUI_UNLOCK();
000138  e8bd41f0          POP      {r4-r8,lr}
00013c  f7ffbffe          B.W      GUI_Unlock
;;;105    }
;;;106    
                          ENDP

                  |L1.320|
                          DCD      GUI_Context
