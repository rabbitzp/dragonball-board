; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\guipolyr.o --depend=.\rvmdk\guipolyr.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\guipolyr.crf ..\..\..\..\..\uCGUI\GUI\Core\GUIPolyR.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=1

                  GUI_RotatePolygon PROC
;;;32     */
;;;33     void GUI_RotatePolygon(GUI_POINT* pDest, const GUI_POINT* pSrc, int NumPoints, float Angle) {
000000  e92d4ff8          PUSH     {r3-r11,lr}
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4690              MOV      r8,r2
00000a  4618              MOV      r0,r3
;;;34       int j;
;;;35       float fcos = cos(Angle);
00000c  f7fffffe          BL       __aeabi_f2d
000010  4604              MOV      r4,r0
000012  460d              MOV      r5,r1
000014  f7fffffe          BL       ||cos||
000018  f7fffffe          BL       __aeabi_d2f
00001c  4681              MOV      r9,r0
;;;36       float fsin = sin(Angle);
00001e  4620              MOV      r0,r4
000020  4629              MOV      r1,r5
000022  f7fffffe          BL       ||sin||
000026  f7fffffe          BL       __aeabi_d2f
00002a  4682              MOV      r10,r0
;;;37       for (j=0; j<NumPoints; j++) {
00002c  2400              MOVS     r4,#0
00002e  f1b80f00          CMP      r8,#0
000032  dd2f              BLE      |L1.148|
                  |L1.52|
;;;38         int x = (pSrc+j)->x;
000034  f9375024          LDRSH    r5,[r7,r4,LSL #2]
;;;39         int y = (pSrc+j)->y;
000038  eb070084          ADD      r0,r7,r4,LSL #2
00003c  f9b00002          LDRSH    r0,[r0,#2]
;;;40         (pDest+j)->x =  x * fcos + y * fsin;
000040  f7fffffe          BL       __aeabi_i2f
000044  4651              MOV      r1,r10
000046  9000              STR      r0,[sp,#0]
000048  f7fffffe          BL       __aeabi_fmul
00004c  4683              MOV      r11,r0
00004e  4628              MOV      r0,r5
000050  f7fffffe          BL       __aeabi_i2f
000054  4649              MOV      r1,r9
000056  f7fffffe          BL       __aeabi_fmul
00005a  4659              MOV      r1,r11
00005c  f7fffffe          BL       __aeabi_fadd
000060  f7fffffe          BL       __aeabi_f2iz
000064  f8260024          STRH     r0,[r6,r4,LSL #2]
;;;41         (pDest+j)->y = -x * fsin + y * fcos;
000068  4649              MOV      r1,r9
00006a  9800              LDR      r0,[sp,#0]
00006c  f7fffffe          BL       __aeabi_fmul
000070  4683              MOV      r11,r0
000072  4268              RSBS     r0,r5,#0
000074  f7fffffe          BL       __aeabi_i2f
000078  4651              MOV      r1,r10
00007a  f7fffffe          BL       __aeabi_fmul
00007e  4659              MOV      r1,r11
000080  f7fffffe          BL       __aeabi_fadd
000084  f7fffffe          BL       __aeabi_f2iz
000088  eb060184          ADD      r1,r6,r4,LSL #2
00008c  8048              STRH     r0,[r1,#2]
00008e  1c64              ADDS     r4,r4,#1              ;37
000090  4544              CMP      r4,r8                 ;37
000092  dbcf              BLT      |L1.52|
                  |L1.148|
;;;42       }
;;;43     }
000094  e8bd8ff8          POP      {r3-r11,pc}
;;;44     
                          ENDP

