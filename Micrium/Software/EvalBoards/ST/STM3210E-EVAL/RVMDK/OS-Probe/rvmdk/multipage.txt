; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\multipage.o --depend=.\rvmdk\multipage.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\multipage.crf ..\..\..\..\..\uCGUI\GUI\Widget\MULTIPAGE.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  _AddScrollbar PROC
;;;90     */
;;;91     static void _AddScrollbar(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, int x, int y, int w, int h) {
000000  e92d47f0          PUSH     {r4-r10,lr}
000004  b084              SUB      sp,sp,#0x10
000006  4681              MOV      r9,r0
000008  9e0d              LDR      r6,[sp,#0x34]
00000a  9d0c              LDR      r5,[sp,#0x30]
00000c  460c              MOV      r4,r1
00000e  4617              MOV      r7,r2
000010  4698              MOV      r8,r3
;;;92       SCROLLBAR_Handle hScroll;
;;;93       if ((hScroll = WM_GetScrollbarH(hObj)) == 0) {
000012  4648              MOV      r0,r9
000014  f7fffffe          BL       WM_GetScrollbarH
000018  ea5f0a00          MOVS     r10,r0
00001c  d010              BEQ      |L1.64|
;;;94         hScroll = SCROLLBAR_Create(x, y, w, h, hObj, GUI_ID_HSCROLL, WM_CF_SHOW, 0);
;;;95         WIDGET_SetEffect(hScroll, pObj->Widget.pEffect);
;;;96       } else {
;;;97         WM_MoveChildTo(hScroll, x, y);
00001e  4642              MOV      r2,r8
000020  4639              MOV      r1,r7
000022  4650              MOV      r0,r10
000024  f7fffffe          BL       WM_MoveChildTo
;;;98         WM_SetSize(hScroll, w, h);
000028  4632              MOV      r2,r6
00002a  4629              MOV      r1,r5
00002c  4650              MOV      r0,r10
00002e  f7fffffe          BL       WM_SetSize
                  |L1.50|
;;;99       }
;;;100      pObj->Widget.State |= MULTIPAGE_STATE_SCROLLMODE;
000032  8ce0              LDRH     r0,[r4,#0x26]
000034  f4407080          ORR      r0,r0,#0x100
000038  84e0              STRH     r0,[r4,#0x26]
;;;101    }
00003a  b004              ADD      sp,sp,#0x10
00003c  e8bd87f0          POP      {r4-r10,pc}
                  |L1.64|
000040  2300              MOVS     r3,#0                 ;94
000042  2202              MOVS     r2,#2                 ;94
000044  21ff              MOVS     r1,#0xff              ;94
000046  9303              STR      r3,[sp,#0xc]          ;94
000048  9202              STR      r2,[sp,#8]            ;94
00004a  9101              STR      r1,[sp,#4]            ;94
00004c  f8cd9000          STR      r9,[sp,#0]            ;94
000050  4633              MOV      r3,r6                 ;94
000052  462a              MOV      r2,r5                 ;94
000054  4641              MOV      r1,r8                 ;94
000056  4638              MOV      r0,r7                 ;94
000058  f7fffffe          BL       SCROLLBAR_Create
00005c  6a21              LDR      r1,[r4,#0x20]         ;95
00005e  f7fffffe          BL       WIDGET_SetEffect
000062  e7e6              B        |L1.50|
;;;102    
                          ENDP

                  _SetScrollbar PROC
;;;106    */
;;;107    static void _SetScrollbar(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, int NumItems) {
000064  b570              PUSH     {r4-r6,lr}
000066  460c              MOV      r4,r1
000068  4615              MOV      r5,r2
;;;108      SCROLLBAR_Handle hScroll;
;;;109      hScroll = WM_GetScrollbarH(hObj);
00006a  f7fffffe          BL       WM_GetScrollbarH
00006e  4606              MOV      r6,r0
;;;110      SCROLLBAR_SetNumItems(hScroll, NumItems);
000070  4629              MOV      r1,r5
000072  4630              MOV      r0,r6
000074  f7fffffe          BL       SCROLLBAR_SetNumItems
;;;111      SCROLLBAR_SetPageSize(hScroll, 1);
000078  2101              MOVS     r1,#1
00007a  4630              MOV      r0,r6
00007c  f7fffffe          BL       SCROLLBAR_SetPageSize
;;;112      if (pObj->ScrollState >= NumItems) {
000080  6b61              LDR      r1,[r4,#0x34]
000082  42a9              CMP      r1,r5
000084  db01              BLT      |L1.138|
;;;113        pObj->ScrollState = 0;
000086  2000              MOVS     r0,#0
000088  6360              STR      r0,[r4,#0x34]
                  |L1.138|
;;;114      }
;;;115      SCROLLBAR_SetValue(hScroll, pObj->ScrollState);
00008a  4630              MOV      r0,r6
00008c  6b61              LDR      r1,[r4,#0x34]
00008e  e8bd4070          POP      {r4-r6,lr}
000092  f7ffbffe          B.W      SCROLLBAR_SetValue
;;;116    }
;;;117    
                          ENDP

                  _DeleteScrollbar PROC
;;;121    */
;;;122    static void _DeleteScrollbar(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj) {
000096  b510              PUSH     {r4,lr}
000098  460c              MOV      r4,r1
;;;123      WM_DeleteWindow(WM_GetScrollbarH(hObj));
00009a  f7fffffe          BL       WM_GetScrollbarH
00009e  f7fffffe          BL       WM_DeleteWindow
;;;124      pObj->Widget.State &= ~MULTIPAGE_STATE_SCROLLMODE;
0000a2  8ce0              LDRH     r0,[r4,#0x26]
0000a4  f4207080          BIC      r0,r0,#0x100
0000a8  84e0              STRH     r0,[r4,#0x26]
;;;125    }
0000aa  bd10              POP      {r4,pc}
;;;126    
                          ENDP

                  _ShowPage PROC
;;;130    */
;;;131    static void _ShowPage(MULTIPAGE_Obj* pObj, unsigned Index) {
0000ac  e92d41f0          PUSH     {r4-r8,lr}
0000b0  4604              MOV      r4,r0
0000b2  460e              MOV      r6,r1
;;;132      WM_HWIN hWin = 0;
0000b4  2500              MOVS     r5,#0
;;;133      WM_HWIN hChild;
;;;134      WM_Obj* pChild;
;;;135      WM_Obj* pClient = WM_H2P(pObj->hClient);
0000b6  f9b40028          LDRSH    r0,[r4,#0x28]
0000ba  f7fffffe          BL       GUI_ALLOC_h2p
0000be  4607              MOV      r7,r0
;;;136      if ((int)Index < pObj->Handles.NumItems) {
0000c0  8d60              LDRH     r0,[r4,#0x2a]
0000c2  42b0              CMP      r0,r6
0000c4  dd06              BLE      |L1.212|
;;;137        MULTIPAGE_PAGE* pPage;
;;;138        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
0000c6  4631              MOV      r1,r6
0000c8  f104002a          ADD      r0,r4,#0x2a
0000cc  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;139        hWin = pPage->hWin;
0000d0  f9b05000          LDRSH    r5,[r0,#0]
                  |L1.212|
;;;140      }
;;;141      for (hChild = pClient->hFirstChild; hChild; hChild = pChild->hNext) {
0000d4  f9b74018          LDRSH    r4,[r7,#0x18]
0000d8  2c00              CMP      r4,#0
0000da  d013              BEQ      |L1.260|
                  |L1.220|
;;;142        pChild = WM_H2P(hChild);
0000dc  4620              MOV      r0,r4
0000de  f7fffffe          BL       GUI_ALLOC_h2p
0000e2  4606              MOV      r6,r0
;;;143        if (hChild == hWin) {
0000e4  42ac              CMP      r4,r5
0000e6  d106              BNE      |L1.246|
;;;144          WM_ShowWindow(hChild);
0000e8  4620              MOV      r0,r4
0000ea  f7fffffe          BL       WM_ShowWindow
;;;145          WM_SetFocus(hChild);
0000ee  4620              MOV      r0,r4
0000f0  f7fffffe          BL       WM_SetFocus
0000f4  e002              B        |L1.252|
                  |L1.246|
;;;146        } else {
;;;147          WM_HideWindow(hChild);
0000f6  4620              MOV      r0,r4
0000f8  f7fffffe          BL       WM_HideWindow
                  |L1.252|
0000fc  f9b6401a          LDRSH    r4,[r6,#0x1a]         ;141
000100  2c00              CMP      r4,#0                 ;141
000102  d1eb              BNE      |L1.220|
                  |L1.260|
;;;148        }
;;;149      }
;;;150    }
000104  e8bd81f0          POP      {r4-r8,pc}
;;;151    
                          ENDP

                  _SetEnable PROC
;;;155    */
;;;156    static void _SetEnable(MULTIPAGE_Obj* pObj, unsigned Index, int State) {
000108  b510              PUSH     {r4,lr}
00010a  4614              MOV      r4,r2
;;;157      if ((int)Index < pObj->Handles.NumItems) {
00010c  8d43              LDRH     r3,[r0,#0x2a]
00010e  428b              CMP      r3,r1
000110  dd07              BLE      |L1.290|
;;;158        MULTIPAGE_PAGE* pPage;
;;;159        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000112  302a              ADDS     r0,r0,#0x2a
000114  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;160        if (State) {
000118  b124              CBZ      r4,|L1.292|
;;;161          pPage->Status |= MULTIPAGE_STATE_ENABLED;
00011a  7881              LDRB     r1,[r0,#2]
00011c  f0410101          ORR      r1,r1,#1
000120  7081              STRB     r1,[r0,#2]
                  |L1.290|
;;;162        } else {
;;;163          pPage->Status &= ~MULTIPAGE_STATE_ENABLED;
;;;164        }
;;;165      }
;;;166    }
000122  bd10              POP      {r4,pc}
                  |L1.292|
000124  7881              LDRB     r1,[r0,#2]            ;163
000126  f0210101          BIC      r1,r1,#1              ;163
00012a  7081              STRB     r1,[r0,#2]            ;163
00012c  bd10              POP      {r4,pc}
;;;167    
                          ENDP

                  _GetEnable PROC
;;;171    */
;;;172    static int _GetEnable(MULTIPAGE_Obj* pObj, unsigned Index) {
00012e  b510              PUSH     {r4,lr}
;;;173      int r = 0;
000130  2200              MOVS     r2,#0
;;;174      if ((int)Index < pObj->Handles.NumItems) {
000132  8d43              LDRH     r3,[r0,#0x2a]
000134  428b              CMP      r3,r1
000136  dd05              BLE      |L1.324|
;;;175        MULTIPAGE_PAGE* pPage;
;;;176        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000138  302a              ADDS     r0,r0,#0x2a
00013a  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;177        r = (pPage->Status & MULTIPAGE_STATE_ENABLED) ? 1 : 0;
00013e  7880              LDRB     r0,[r0,#2]
000140  f0000201          AND      r2,r0,#1
                  |L1.324|
;;;178      }
;;;179      return r;
000144  4610              MOV      r0,r2
;;;180    }
000146  bd10              POP      {r4,pc}
;;;181    
                          ENDP

                  _CalcClientRect PROC
;;;187    */
;;;188    static void _CalcClientRect(MULTIPAGE_Obj* pObj, GUI_RECT* pRect) {
000148  b570              PUSH     {r4-r6,lr}
00014a  4605              MOV      r5,r0
00014c  460c              MOV      r4,r1
;;;189      WIDGET__GetInsideRect(&pObj->Widget, pRect);
00014e  4621              MOV      r1,r4
000150  4628              MOV      r0,r5
000152  f7fffffe          BL       WIDGET__GetInsideRect
;;;190      if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
000156  6ba8              LDR      r0,[r5,#0x38]
000158  f0100f04          TST      r0,#4
00015c  d007              BEQ      |L1.366|
;;;191        pRect->y1 -= GUI_GetYSizeOfFont(pObj->Font) + 6;
00015e  6be8              LDR      r0,[r5,#0x3c]
000160  f7fffffe          BL       GUI_GetYSizeOfFont
000164  88e1              LDRH     r1,[r4,#6]
000166  1a08              SUBS     r0,r1,r0
000168  1f80              SUBS     r0,r0,#6
00016a  80e0              STRH     r0,[r4,#6]
;;;192      } else {
;;;193        pRect->y0 += GUI_GetYSizeOfFont(pObj->Font) + 6;
;;;194      }
;;;195    }
00016c  bd70              POP      {r4-r6,pc}
                  |L1.366|
00016e  6be8              LDR      r0,[r5,#0x3c]         ;193
000170  f7fffffe          BL       GUI_GetYSizeOfFont
000174  8861              LDRH     r1,[r4,#2]            ;193
000176  1d80              ADDS     r0,r0,#6              ;193
000178  4408              ADD      r0,r0,r1              ;193
00017a  8060              STRH     r0,[r4,#2]            ;193
00017c  bd70              POP      {r4-r6,pc}
;;;196    
                          ENDP

                  _CalcBorderRect PROC
;;;202    */
;;;203    static void _CalcBorderRect(MULTIPAGE_Obj* pObj, GUI_RECT* pRect) {
00017e  b570              PUSH     {r4-r6,lr}
000180  4605              MOV      r5,r0
000182  460c              MOV      r4,r1
;;;204      WM__GetClientRectWin(&pObj->Widget.Win, pRect);
000184  4621              MOV      r1,r4
000186  4628              MOV      r0,r5
000188  f7fffffe          BL       WM__GetClientRectWin
;;;205      if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
00018c  6ba8              LDR      r0,[r5,#0x38]
00018e  f0100f04          TST      r0,#4
000192  d007              BEQ      |L1.420|
;;;206        pRect->y1 -= GUI_GetYSizeOfFont(pObj->Font) + 6;
000194  6be8              LDR      r0,[r5,#0x3c]
000196  f7fffffe          BL       GUI_GetYSizeOfFont
00019a  88e1              LDRH     r1,[r4,#6]
00019c  1a08              SUBS     r0,r1,r0
00019e  1f80              SUBS     r0,r0,#6
0001a0  80e0              STRH     r0,[r4,#6]
;;;207      } else {
;;;208        pRect->y0 += GUI_GetYSizeOfFont(pObj->Font) + 6;
;;;209      }
;;;210    }
0001a2  bd70              POP      {r4-r6,pc}
                  |L1.420|
0001a4  6be8              LDR      r0,[r5,#0x3c]         ;208
0001a6  f7fffffe          BL       GUI_GetYSizeOfFont
0001aa  8861              LDRH     r1,[r4,#2]            ;208
0001ac  1d80              ADDS     r0,r0,#6              ;208
0001ae  4408              ADD      r0,r0,r1              ;208
0001b0  8060              STRH     r0,[r4,#2]            ;208
0001b2  bd70              POP      {r4-r6,pc}
;;;211    
                          ENDP

                  _GetPageSizeX PROC
;;;217    */
;;;218    static int _GetPageSizeX(MULTIPAGE_Obj* pObj, unsigned Index) {
0001b4  b570              PUSH     {r4-r6,lr}
0001b6  4604              MOV      r4,r0
0001b8  460d              MOV      r5,r1
;;;219      int r = 0;
0001ba  2000              MOVS     r0,#0
;;;220      if ((int)Index < pObj->Handles.NumItems) {
0001bc  8d62              LDRH     r2,[r4,#0x2a]
0001be  42aa              CMP      r2,r5
0001c0  dd0b              BLE      |L1.474|
;;;221        MULTIPAGE_PAGE* pPage;
;;;222        GUI_SetFont(pObj->Font);
0001c2  6be0              LDR      r0,[r4,#0x3c]
0001c4  f7fffffe          BL       GUI_SetFont
;;;223        pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
0001c8  4629              MOV      r1,r5
0001ca  f104002a          ADD      r0,r4,#0x2a
0001ce  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;224        r = GUI_GetStringDistX(&pPage->acText) + 10;
0001d2  1cc0              ADDS     r0,r0,#3
0001d4  f7fffffe          BL       GUI_GetStringDistX
0001d8  300a              ADDS     r0,r0,#0xa
                  |L1.474|
;;;225      }
;;;226      return r;
;;;227    }
0001da  bd70              POP      {r4-r6,pc}
;;;228    
                          ENDP

                  _GetPagePosX PROC
;;;234    */
;;;235    static int _GetPagePosX(MULTIPAGE_Obj* pObj, unsigned Index) {
0001dc  e92d41f0          PUSH     {r4-r8,lr}
0001e0  4607              MOV      r7,r0
0001e2  460e              MOV      r6,r1
;;;236      unsigned i, r = 0;
0001e4  2500              MOVS     r5,#0
;;;237      for (i = 0; i < Index; i++) {
0001e6  2400              MOVS     r4,#0
0001e8  2e00              CMP      r6,#0
0001ea  d907              BLS      |L1.508|
                  |L1.492|
;;;238        r += _GetPageSizeX(pObj, i);
0001ec  4621              MOV      r1,r4
0001ee  4638              MOV      r0,r7
0001f0  f7fffffe          BL       _GetPageSizeX
0001f4  4405              ADD      r5,r5,r0
0001f6  1c64              ADDS     r4,r4,#1              ;237
0001f8  42b4              CMP      r4,r6                 ;237
0001fa  d3f7              BCC      |L1.492|
                  |L1.508|
;;;239      }
;;;240      return r;
0001fc  4628              MOV      r0,r5
;;;241    }
0001fe  e8bd81f0          POP      {r4-r8,pc}
;;;242    
                          ENDP

                  _GetTextWidth PROC
;;;248    */
;;;249    static int _GetTextWidth(MULTIPAGE_Obj* pObj) {
000202  8d41              LDRH     r1,[r0,#0x2a]
;;;250      return _GetPagePosX(pObj, pObj->Handles.NumItems);
000204  e7fe              B        _GetPagePosX
;;;251    }
;;;252    
                          ENDP

                  _GetTextRect PROC
;;;256    */
;;;257    static void _GetTextRect(MULTIPAGE_Obj* pObj, GUI_RECT* pRect) {
000206  b5f0              PUSH     {r4-r7,lr}
000208  b083              SUB      sp,sp,#0xc
00020a  4605              MOV      r5,r0
00020c  460c              MOV      r4,r1
;;;258      GUI_RECT rBorder;
;;;259      int Width, Height;
;;;260      Height = GUI_GetYSizeOfFont(pObj->Font) + 6;
00020e  6be8              LDR      r0,[r5,#0x3c]
000210  f7fffffe          BL       GUI_GetYSizeOfFont
000214  1d86              ADDS     r6,r0,#6
;;;261      _CalcBorderRect(pObj, &rBorder);
000216  4669              MOV      r1,sp
000218  4628              MOV      r0,r5
00021a  f7fffffe          BL       _CalcBorderRect
;;;262      /* Calculate Y-Position of text item */
;;;263      if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
00021e  6ba8              LDR      r0,[r5,#0x38]
;;;264        pRect->y0 = rBorder.y1;
;;;265      } else {
;;;266        pRect->y0 = 0;
000220  f04f0700          MOV      r7,#0
000224  f0100f04          TST      r0,#4                 ;263
000228  d003              BEQ      |L1.562|
00022a  f8bd0006          LDRH     r0,[sp,#6]            ;264
00022e  8060              STRH     r0,[r4,#2]            ;264
000230  e000              B        |L1.564|
                  |L1.562|
000232  8067              STRH     r7,[r4,#2]
                  |L1.564|
;;;267      }
;;;268      pRect->y1 = pRect->y0 + Height;
000234  8860              LDRH     r0,[r4,#2]
000236  4430              ADD      r0,r0,r6
000238  80e0              STRH     r0,[r4,#6]
;;;269      /* Calculate width of text items */
;;;270      if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
00023a  8ce8              LDRH     r0,[r5,#0x26]
00023c  f4107f80          TST      r0,#0x100
000240  d007              BEQ      |L1.594|
;;;271        Width = rBorder.x1 - ((Height * 3) >> 1) - 3;
000242  f9bd0004          LDRSH    r0,[sp,#4]
000246  eb060146          ADD      r1,r6,r6,LSL #1
00024a  eba00061          SUB      r0,r0,r1,ASR #1
00024e  1ec0              SUBS     r0,r0,#3
000250  e002              B        |L1.600|
                  |L1.594|
;;;272      } else {
;;;273        Width = _GetTextWidth(pObj);
000252  4628              MOV      r0,r5
000254  f7fffffe          BL       _GetTextWidth
                  |L1.600|
;;;274      }
;;;275      /* Calculate X-Position of text item */
;;;276      if (pObj->Align & MULTIPAGE_ALIGN_RIGHT) {
000258  6ba9              LDR      r1,[r5,#0x38]
00025a  f0110f01          TST      r1,#1
00025e  d008              BEQ      |L1.626|
;;;277        pRect->x0 = rBorder.x1 - Width;
000260  f8bd1004          LDRH     r1,[sp,#4]
000264  1a08              SUBS     r0,r1,r0
000266  8020              STRH     r0,[r4,#0]
;;;278        pRect->x1 = rBorder.x1;
000268  f8bd0004          LDRH     r0,[sp,#4]
00026c  80a0              STRH     r0,[r4,#4]
;;;279      } else {
;;;280        pRect->x0 = 0;
;;;281        pRect->x1 = Width;
;;;282      }
;;;283    }
00026e  b003              ADD      sp,sp,#0xc
000270  bdf0              POP      {r4-r7,pc}
                  |L1.626|
000272  8027              STRH     r7,[r4,#0]            ;280
000274  80a0              STRH     r0,[r4,#4]            ;281
000276  b003              ADD      sp,sp,#0xc
000278  bdf0              POP      {r4-r7,pc}
;;;284    
                          ENDP

                  _UpdatePositions PROC
;;;288    */
;;;289    static void _UpdatePositions(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj) {
00027a  b5f0              PUSH     {r4-r7,lr}
00027c  b087              SUB      sp,sp,#0x1c
00027e  4607              MOV      r7,r0
000280  460e              MOV      r6,r1
;;;290      GUI_RECT rBorder;
;;;291      int Width;
;;;292      Width = _GetTextWidth(pObj);
000282  4630              MOV      r0,r6
000284  f7fffffe          BL       _GetTextWidth
000288  4604              MOV      r4,r0
;;;293      _CalcBorderRect(pObj, &rBorder);
00028a  a904              ADD      r1,sp,#0x10
00028c  4630              MOV      r0,r6
00028e  f7fffffe          BL       _CalcBorderRect
;;;294      /* Set scrollmode according to the text width */
;;;295      if (Width > rBorder.x1) {
000292  f9bd0014          LDRSH    r0,[sp,#0x14]
000296  42a0              CMP      r0,r4
000298  da53              BGE      |L1.834|
;;;296        GUI_RECT rText;
;;;297        int Size, x0, y0, NumItems = 0;
00029a  2500              MOVS     r5,#0
;;;298        Size   = ((GUI_GetYSizeOfFont(pObj->Font) + 6) * 3) >> 2;
00029c  6bf0              LDR      r0,[r6,#0x3c]
00029e  f7fffffe          BL       GUI_GetYSizeOfFont
0002a2  1d80              ADDS     r0,r0,#6
0002a4  eb000040          ADD      r0,r0,r0,LSL #1
0002a8  1083              ASRS     r3,r0,#2
;;;299        x0     = (pObj->Align & MULTIPAGE_ALIGN_RIGHT)  ? (rBorder.x0) : (rBorder.x1 - 2*Size + 1);
0002aa  6bb1              LDR      r1,[r6,#0x38]
0002ac  f0110f01          TST      r1,#1
0002b0  d002              BEQ      |L1.696|
0002b2  f9bd0010          LDRSH    r0,[sp,#0x10]
0002b6  e007              B        |L1.712|
                  |L1.696|
0002b8  f9bd0014          LDRSH    r0,[sp,#0x14]
0002bc  425a              RSBS     r2,r3,#0
0002be  f04f0c01          MOV      r12,#1
0002c2  eb0c0242          ADD      r2,r12,r2,LSL #1
0002c6  4410              ADD      r0,r0,r2
                  |L1.712|
;;;300        y0     = (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) ? (rBorder.y1) : (rBorder.y0 -   Size + 1);
0002c8  f0110f04          TST      r1,#4
0002cc  d002              BEQ      |L1.724|
0002ce  f9bd1016          LDRSH    r1,[sp,#0x16]
0002d2  e003              B        |L1.732|
                  |L1.724|
0002d4  f9bd1012          LDRSH    r1,[sp,#0x12]
0002d8  1ac9              SUBS     r1,r1,r3
0002da  1c49              ADDS     r1,r1,#1
                  |L1.732|
;;;301        /* A scrollbar is required so we add one to the multipage */
;;;302        _AddScrollbar(hObj, pObj, x0, y0, 2 * Size, Size);
0002dc  005a              LSLS     r2,r3,#1
0002de  9301              STR      r3,[sp,#4]
0002e0  9200              STR      r2,[sp,#0]
0002e2  460b              MOV      r3,r1
0002e4  4602              MOV      r2,r0
0002e6  4631              MOV      r1,r6
0002e8  4638              MOV      r0,r7
0002ea  f7fffffe          BL       _AddScrollbar
;;;303        _GetTextRect(pObj, &rText);
0002ee  a902              ADD      r1,sp,#8
0002f0  4630              MOV      r0,r6
0002f2  f7fffffe          BL       _GetTextRect
;;;304        while (Width >= MAX((rText.x1 - rText.x0 + 1), 1)) {
0002f6  f9bd000c          LDRSH    r0,[sp,#0xc]
0002fa  f9bd1008          LDRSH    r1,[sp,#8]
0002fe  1a40              SUBS     r0,r0,r1
000300  1c41              ADDS     r1,r0,#1
000302  2901              CMP      r1,#1
000304  dd01              BLE      |L1.778|
000306  1c40              ADDS     r0,r0,#1
000308  e000              B        |L1.780|
                  |L1.778|
00030a  2001              MOVS     r0,#1
                  |L1.780|
00030c  42a0              CMP      r0,r4
00030e  dc12              BGT      |L1.822|
                  |L1.784|
;;;305          Width -= _GetPageSizeX(pObj, NumItems++);
000310  4629              MOV      r1,r5
000312  1c6d              ADDS     r5,r5,#1
000314  4630              MOV      r0,r6
000316  f7fffffe          BL       _GetPageSizeX
00031a  1a24              SUBS     r4,r4,r0
00031c  f9bd000c          LDRSH    r0,[sp,#0xc]          ;304
000320  f9bd1008          LDRSH    r1,[sp,#8]            ;304
000324  1a40              SUBS     r0,r0,r1              ;304
000326  1c41              ADDS     r1,r0,#1              ;304
000328  2901              CMP      r1,#1                 ;304
00032a  dd01              BLE      |L1.816|
00032c  1c40              ADDS     r0,r0,#1              ;304
00032e  e000              B        |L1.818|
                  |L1.816|
000330  2001              MOVS     r0,#1                 ;304
                  |L1.818|
000332  42a0              CMP      r0,r4                 ;304
000334  ddec              BLE      |L1.784|
                  |L1.822|
;;;306        }
;;;307        _SetScrollbar(hObj, pObj, NumItems + 1);
000336  1c6a              ADDS     r2,r5,#1
000338  4631              MOV      r1,r6
00033a  4638              MOV      r0,r7
00033c  f7fffffe          BL       _SetScrollbar
;;;308      } else {
000340  e003              B        |L1.842|
                  |L1.834|
;;;309        /* Scrollbar is no longer required. We delete it if there was one */
;;;310        _DeleteScrollbar(hObj, pObj);
000342  4631              MOV      r1,r6
000344  4638              MOV      r0,r7
000346  f7fffffe          BL       _DeleteScrollbar
                  |L1.842|
;;;311      }
;;;312      /* Move and resize the client area to the updated positions */
;;;313      _CalcClientRect(pObj, &rBorder);
00034a  a904              ADD      r1,sp,#0x10
00034c  4630              MOV      r0,r6
00034e  f7fffffe          BL       _CalcClientRect
;;;314      WM_MoveChildTo(pObj->hClient, rBorder.x0, rBorder.y0);
000352  f9bd2012          LDRSH    r2,[sp,#0x12]
000356  f9bd1010          LDRSH    r1,[sp,#0x10]
00035a  f9b60028          LDRSH    r0,[r6,#0x28]
00035e  f7fffffe          BL       WM_MoveChildTo
;;;315      WM_SetSize(pObj->hClient, rBorder.x1 - rBorder.x0 + 1, rBorder.y1 - rBorder.y0 + 1);
000362  f9bd0016          LDRSH    r0,[sp,#0x16]
000366  f9bd1012          LDRSH    r1,[sp,#0x12]
00036a  1a40              SUBS     r0,r0,r1
00036c  1c42              ADDS     r2,r0,#1
00036e  f9bd0014          LDRSH    r0,[sp,#0x14]
000372  f9bd1010          LDRSH    r1,[sp,#0x10]
000376  1a40              SUBS     r0,r0,r1
000378  1c41              ADDS     r1,r0,#1
00037a  f9b60028          LDRSH    r0,[r6,#0x28]
00037e  f7fffffe          BL       WM_SetSize
;;;316      WM_InvalidateWindow(hObj);
000382  4638              MOV      r0,r7
000384  f7fffffe          BL       WM_InvalidateWindow
;;;317    }
000388  b007              ADD      sp,sp,#0x1c
00038a  bdf0              POP      {r4-r7,pc}
;;;318    
                          ENDP

                  _DrawTextItem PROC
;;;328    */
;;;329    static void _DrawTextItem(MULTIPAGE_Obj* pObj, const char* pText, unsigned Index,
00038c  e92d41f0          PUSH     {r4-r8,lr}
;;;330                              const GUI_RECT* pRect, int x0, int w, int ColorIndex) {
000390  b082              SUB      sp,sp,#8
000392  4604              MOV      r4,r0
000394  460f              MOV      r7,r1
000396  9d0a              LDR      r5,[sp,#0x28]
000398  9909              LDR      r1,[sp,#0x24]
00039a  9808              LDR      r0,[sp,#0x20]
00039c  4690              MOV      r8,r2
00039e  461e              MOV      r6,r3
;;;331      GUI_RECT r;
;;;332      r = *pRect;
0003a0  6832              LDR      r2,[r6,#0]
0003a2  9200              STR      r2,[sp,#0]
0003a4  6872              LDR      r2,[r6,#4]
0003a6  9201              STR      r2,[sp,#4]
;;;333      r.x0 += x0;
0003a8  f8bd2000          LDRH     r2,[sp,#0]
0003ac  4410              ADD      r0,r0,r2
0003ae  f8ad0000          STRH     r0,[sp,#0]
;;;334      r.x1  = r.x0 + w;
0003b2  4408              ADD      r0,r0,r1
0003b4  f8ad0004          STRH     r0,[sp,#4]
;;;335      WIDGET__EFFECT_DrawUpRect(&pObj->Widget, &r);
0003b8  4669              MOV      r1,sp
0003ba  4620              MOV      r0,r4
0003bc  f7fffffe          BL       WIDGET__EFFECT_DrawUpRect
;;;336      GUI__ReduceRect(&r, &r, pObj->Widget.pEffect->EffectSize);
0003c0  6a20              LDR      r0,[r4,#0x20]
0003c2  4669              MOV      r1,sp
0003c4  6942              LDR      r2,[r0,#0x14]
0003c6  4668              MOV      r0,sp
0003c8  f7fffffe          BL       GUI__ReduceRect
;;;337      if (pObj->Selection == Index) {
0003cc  6b20              LDR      r0,[r4,#0x30]
0003ce  4540              CMP      r0,r8
0003d0  d14e              BNE      |L1.1136|
;;;338        if (pObj->Align & MULTIPAGE_ALIGN_BOTTOM) {
0003d2  6ba0              LDR      r0,[r4,#0x38]
;;;339          r.y0 -= pObj->Widget.pEffect->EffectSize + 1;
;;;340    	    if (pObj->Widget.pEffect->EffectSize > 1) {
;;;341    		    LCD_SetColor(GUI_WHITE);
;;;342    		    GUI_DrawVLine(r.x0 - 1, r.y0, r.y0 + 1);
;;;343    		    LCD_SetColor(0x555555);
0003d4  f8df88e8          LDR      r8,|L1.3264|
0003d8  f0100f04          TST      r0,#4                 ;338
0003dc  d023              BEQ      |L1.1062|
0003de  6a21              LDR      r1,[r4,#0x20]         ;339
0003e0  f8bd0002          LDRH     r0,[sp,#2]            ;339
0003e4  6949              LDR      r1,[r1,#0x14]         ;339
0003e6  1a40              SUBS     r0,r0,r1              ;339
0003e8  1e40              SUBS     r0,r0,#1              ;339
0003ea  f8ad0002          STRH     r0,[sp,#2]            ;339
0003ee  6a20              LDR      r0,[r4,#0x20]         ;340
0003f0  6940              LDR      r0,[r0,#0x14]         ;340
0003f2  2801              CMP      r0,#1                 ;340
0003f4  dd3c              BLE      |L1.1136|
0003f6  f06f407f          MVN      r0,#0xff000000        ;341
0003fa  f7fffffe          BL       LCD_SetColor
0003fe  f9bd1002          LDRSH    r1,[sp,#2]            ;342
000402  f9bd0000          LDRSH    r0,[sp,#0]            ;342
000406  1c4a              ADDS     r2,r1,#1              ;342
000408  1e40              SUBS     r0,r0,#1              ;342
00040a  f7fffffe          BL       GUI_DrawVLine
00040e  4640              MOV      r0,r8
000410  f7fffffe          BL       LCD_SetColor
;;;344    		    GUI_DrawVLine(r.x1 + 1, r.y0, r.y0 + 1);
000414  f9bd1002          LDRSH    r1,[sp,#2]
000418  f9bd0004          LDRSH    r0,[sp,#4]
00041c  1c4a              ADDS     r2,r1,#1
00041e  1c40              ADDS     r0,r0,#1
000420  f7fffffe          BL       GUI_DrawVLine
000424  e024              B        |L1.1136|
                  |L1.1062|
;;;345    	    }
;;;346        } else {
;;;347          r.y1 += pObj->Widget.pEffect->EffectSize + 1;
000426  6a21              LDR      r1,[r4,#0x20]
000428  f8bd0006          LDRH     r0,[sp,#6]
00042c  6949              LDR      r1,[r1,#0x14]
00042e  4408              ADD      r0,r0,r1
000430  1c40              ADDS     r0,r0,#1
000432  f8ad0006          STRH     r0,[sp,#6]
;;;348    	    if (pObj->Widget.pEffect->EffectSize > 1) {
000436  6a20              LDR      r0,[r4,#0x20]
000438  6940              LDR      r0,[r0,#0x14]
00043a  2801              CMP      r0,#1
00043c  dd18              BLE      |L1.1136|
;;;349    		    LCD_SetColor(GUI_WHITE);
00043e  f06f407f          MVN      r0,#0xff000000
000442  f7fffffe          BL       LCD_SetColor
;;;350    		    GUI_DrawVLine(r.x0 - 1, r.y1 - 2, r.y1 - 1);
000446  f9bd0006          LDRSH    r0,[sp,#6]
00044a  1e42              SUBS     r2,r0,#1
00044c  1e81              SUBS     r1,r0,#2
00044e  f9bd0000          LDRSH    r0,[sp,#0]
000452  1e40              SUBS     r0,r0,#1
000454  f7fffffe          BL       GUI_DrawVLine
;;;351    		    LCD_SetColor(0x555555);
000458  4640              MOV      r0,r8
00045a  f7fffffe          BL       LCD_SetColor
;;;352    		    GUI_DrawVLine(r.x1 + 1, r.y1 - 2, r.y1 - 1);
00045e  f9bd0006          LDRSH    r0,[sp,#6]
000462  1e42              SUBS     r2,r0,#1
000464  1e81              SUBS     r1,r0,#2
000466  f9bd0004          LDRSH    r0,[sp,#4]
00046a  1c40              ADDS     r0,r0,#1
00046c  f7fffffe          BL       GUI_DrawVLine
                  |L1.1136|
;;;353    	    }
;;;354        }
;;;355      }
;;;356      LCD_SetColor(pObj->aBkColor[ColorIndex]);
000470  eb040585          ADD      r5,r4,r5,LSL #2
000474  6c28              LDR      r0,[r5,#0x40]
000476  f7fffffe          BL       LCD_SetColor
;;;357      WIDGET__FillRectEx(&pObj->Widget, &r);
00047a  4669              MOV      r1,sp
00047c  4620              MOV      r0,r4
00047e  f7fffffe          BL       WIDGET__FillRectEx
;;;358      LCD_SetBkColor(pObj->aBkColor[ColorIndex]);
000482  6c28              LDR      r0,[r5,#0x40]
000484  f7fffffe          BL       LCD_SetBkColor
;;;359      LCD_SetColor(pObj->aTextColor[ColorIndex]);
000488  6ca8              LDR      r0,[r5,#0x48]
00048a  f7fffffe          BL       LCD_SetColor
;;;360      GUI_DispStringAt(pText, r.x0 + 4, pRect->y0 + 3);
00048e  f9b60002          LDRSH    r0,[r6,#2]
000492  1cc2              ADDS     r2,r0,#3
000494  f9bd0000          LDRSH    r0,[sp,#0]
000498  1d01              ADDS     r1,r0,#4
00049a  4638              MOV      r0,r7
00049c  f7fffffe          BL       GUI_DispStringAt
;;;361    }
0004a0  b002              ADD      sp,sp,#8
0004a2  e8bd81f0          POP      {r4-r8,pc}
;;;362    
                          ENDP

                  _Paint PROC
;;;372    */
;;;373    static void _Paint(MULTIPAGE_Obj* pObj) {
0004a6  e92d41f0          PUSH     {r4-r8,lr}
0004aa  b08a              SUB      sp,sp,#0x28
0004ac  4604              MOV      r4,r0
;;;374      GUI_RECT rBorder;
;;;375      /* Draw border of multipage */
;;;376      _CalcBorderRect(pObj, &rBorder);
0004ae  a908              ADD      r1,sp,#0x20
0004b0  4620              MOV      r0,r4
0004b2  f7fffffe          BL       _CalcBorderRect
;;;377      WIDGET__EFFECT_DrawUpRect(&pObj->Widget, &rBorder);
0004b6  a908              ADD      r1,sp,#0x20
0004b8  4620              MOV      r0,r4
0004ba  f7fffffe          BL       WIDGET__EFFECT_DrawUpRect
;;;378      /* Draw text items */
;;;379      if (pObj->Handles.NumItems > 0) {
0004be  8d60              LDRH     r0,[r4,#0x2a]
0004c0  2800              CMP      r0,#0
0004c2  d051              BEQ      |L1.1384|
;;;380        MULTIPAGE_PAGE* pPage;
;;;381        GUI_RECT rText, rClip;
;;;382        int i, w = 0, x0 = 0;
0004c4  f04f0800          MOV      r8,#0
0004c8  2600              MOVS     r6,#0
;;;383        if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
0004ca  8ce0              LDRH     r0,[r4,#0x26]
0004cc  f4107f80          TST      r0,#0x100
0004d0  d00e              BEQ      |L1.1264|
;;;384          if (pObj->Align & MULTIPAGE_ALIGN_RIGHT) {
0004d2  6ba0              LDR      r0,[r4,#0x38]
0004d4  f0100f01          TST      r0,#1
0004d8  d005              BEQ      |L1.1254|
;;;385            x0 = -_GetPagePosX(pObj, pObj->ScrollState);
0004da  4620              MOV      r0,r4
0004dc  6b61              LDR      r1,[r4,#0x34]
0004de  f7fffffe          BL       _GetPagePosX
0004e2  4246              RSBS     r6,r0,#0
0004e4  e004              B        |L1.1264|
                  |L1.1254|
;;;386          } else {
;;;387            x0 = -_GetPagePosX(pObj, pObj->ScrollState);
0004e6  4620              MOV      r0,r4
0004e8  6b61              LDR      r1,[r4,#0x34]
0004ea  f7fffffe          BL       _GetPagePosX
0004ee  4246              RSBS     r6,r0,#0
                  |L1.1264|
;;;388          }
;;;389        }
;;;390        _GetTextRect(pObj, &rText);
0004f0  a906              ADD      r1,sp,#0x18
0004f2  4620              MOV      r0,r4
0004f4  f7fffffe          BL       _GetTextRect
;;;391        rClip = rText;
0004f8  9907              LDR      r1,[sp,#0x1c]
0004fa  9806              LDR      r0,[sp,#0x18]
0004fc  9105              STR      r1,[sp,#0x14]
0004fe  9004              STR      r0,[sp,#0x10]
;;;392        rClip.y0 = rText.y0 - 1;
000500  f8bd001a          LDRH     r0,[sp,#0x1a]
000504  1e40              SUBS     r0,r0,#1
000506  f8ad0012          STRH     r0,[sp,#0x12]
;;;393        rClip.y1 = rText.y1 + 1;
00050a  f8bd001e          LDRH     r0,[sp,#0x1e]
00050e  1c40              ADDS     r0,r0,#1
000510  f8ad0016          STRH     r0,[sp,#0x16]
;;;394        WM_SetUserClipRect(&rClip);
000514  a804              ADD      r0,sp,#0x10
000516  f7fffffe          BL       WM_SetUserClipRect
;;;395        GUI_SetFont(pObj->Font);
00051a  6be0              LDR      r0,[r4,#0x3c]
00051c  f7fffffe          BL       GUI_SetFont
;;;396        for (i = 0; i < pObj->Handles.NumItems; i++) {
000520  2500              MOVS     r5,#0
000522  8d60              LDRH     r0,[r4,#0x2a]
000524  2800              CMP      r0,#0
000526  dd1c              BLE      |L1.1378|
                  |L1.1320|
;;;397          pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, i);
000528  4629              MOV      r1,r5
00052a  f104002a          ADD      r0,r4,#0x2a
00052e  f7fffffe          BL       GUI_ARRAY_GetpItem
000532  4607              MOV      r7,r0
;;;398          x0 += w;
000534  4446              ADD      r6,r6,r8
;;;399          w   = GUI_GetStringDistX(&pPage->acText) + 10;
000536  1cf8              ADDS     r0,r7,#3
000538  f7fffffe          BL       GUI_GetStringDistX
00053c  f100080a          ADD      r8,r0,#0xa
;;;400          _DrawTextItem(pObj, &pPage->acText, i, &rText, x0, w, (pPage->Status & MULTIPAGE_STATE_ENABLED) ? 1 : 0);
000540  78b8              LDRB     r0,[r7,#2]
000542  f8cd8004          STR      r8,[sp,#4]
000546  f0000301          AND      r3,r0,#1
00054a  9302              STR      r3,[sp,#8]
00054c  9600              STR      r6,[sp,#0]
00054e  ab06              ADD      r3,sp,#0x18
000550  462a              MOV      r2,r5
000552  1cf9              ADDS     r1,r7,#3
000554  4620              MOV      r0,r4
000556  f7fffffe          BL       _DrawTextItem
00055a  1c6d              ADDS     r5,r5,#1              ;396
00055c  8d60              LDRH     r0,[r4,#0x2a]         ;396
00055e  42a8              CMP      r0,r5                 ;396
000560  dce2              BGT      |L1.1320|
                  |L1.1378|
;;;401        }    
;;;402        WM_SetUserClipRect(NULL);
000562  2000              MOVS     r0,#0
000564  f7fffffe          BL       WM_SetUserClipRect
                  |L1.1384|
;;;403      }
;;;404    }
000568  b00a              ADD      sp,sp,#0x28
00056a  e8bd81f0          POP      {r4-r8,pc}
;;;405    
                          ENDP

                  MULTIPAGE_SelectPage PROC
;;;793    */
;;;794    void MULTIPAGE_SelectPage(MULTIPAGE_Handle hObj, unsigned Index) {
00056e  b570              PUSH     {r4-r6,lr}
000570  4606              MOV      r6,r0
000572  460d              MOV      r5,r1
;;;795      if (hObj) {
000574  2e00              CMP      r6,#0
000576  d028              BEQ      |L1.1482|
;;;796        MULTIPAGE_Obj* pObj;
;;;797        WM_LOCK();
000578  f7fffffe          BL       GUI_Lock
;;;798        pObj = MULTIPAGE_H2P(hObj);
00057c  4630              MOV      r0,r6
00057e  f7fffffe          BL       GUI_ALLOC_h2p
000582  4604              MOV      r4,r0
;;;799        if (pObj) {
000584  b1ec              CBZ      r4,|L1.1474|
;;;800          if ((int)Index < pObj->Handles.NumItems) {
000586  8d60              LDRH     r0,[r4,#0x2a]
000588  42a8              CMP      r0,r5
00058a  dd1a              BLE      |L1.1474|
;;;801            if (_GetEnable(pObj, Index)) {
00058c  4629              MOV      r1,r5
00058e  4620              MOV      r0,r4
000590  f7fffffe          BL       _GetEnable
000594  b1a8              CBZ      r0,|L1.1474|
;;;802              if (Index != pObj->Selection) {
000596  6b20              LDR      r0,[r4,#0x30]
000598  42a8              CMP      r0,r5
00059a  d009              BEQ      |L1.1456|
;;;803                /* Switch to page */
;;;804                _ShowPage(pObj, Index);
00059c  4629              MOV      r1,r5
00059e  4620              MOV      r0,r4
0005a0  f7fffffe          BL       _ShowPage
;;;805                pObj->Selection = Index;
0005a4  6325              STR      r5,[r4,#0x30]
;;;806                _UpdatePositions(hObj, pObj);
0005a6  4621              MOV      r1,r4
0005a8  4630              MOV      r0,r6
0005aa  f7fffffe          BL       _UpdatePositions
0005ae  e008              B        |L1.1474|
                  |L1.1456|
;;;807              } else {
;;;808                /* Page is already visible, so move at least the input focus to the page */
;;;809                MULTIPAGE_PAGE * pPage;
;;;810                pPage = (MULTIPAGE_PAGE *)GUI_ARRAY_GetpItem(&pObj->Handles, Index);
0005b0  4629              MOV      r1,r5
0005b2  f104002a          ADD      r0,r4,#0x2a
0005b6  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;811                WM_SetFocus(pPage->hWin);
0005ba  f9b00000          LDRSH    r0,[r0,#0]
0005be  f7fffffe          BL       WM_SetFocus
                  |L1.1474|
;;;812              }
;;;813            }
;;;814          }
;;;815        }
;;;816        WM_UNLOCK();
0005c2  e8bd4070          POP      {r4-r6,lr}
0005c6  f7ffbffe          B.W      GUI_Unlock
                  |L1.1482|
;;;817      }
;;;818    }
0005ca  bd70              POP      {r4-r6,pc}
;;;819    
                          ENDP

                  _ClickedOnMultipage PROC
;;;409    */
;;;410    static int _ClickedOnMultipage(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, int x, int y) {
0005cc  e92d43f0          PUSH     {r4-r9,lr}
0005d0  b083              SUB      sp,sp,#0xc
0005d2  4681              MOV      r9,r0
0005d4  460e              MOV      r6,r1
0005d6  4617              MOV      r7,r2
0005d8  461c              MOV      r4,r3
;;;411      GUI_RECT rText;
;;;412      _GetTextRect(pObj, &rText);
0005da  4669              MOV      r1,sp
0005dc  4630              MOV      r0,r6
0005de  f7fffffe          BL       _GetTextRect
;;;413      if ((y >= rText.y0) && (y <= rText.y1)) {
0005e2  f9bd0002          LDRSH    r0,[sp,#2]
0005e6  42a0              CMP      r0,r4
0005e8  dc3e              BGT      |L1.1640|
0005ea  f9bd0006          LDRSH    r0,[sp,#6]
0005ee  42a0              CMP      r0,r4
0005f0  db3a              BLT      |L1.1640|
;;;414        if ((pObj->Handles.NumItems > 0) && (x >= rText.x0) && (x <= rText.x1)) {
0005f2  8d70              LDRH     r0,[r6,#0x2a]
0005f4  b378              CBZ      r0,|L1.1622|
0005f6  f9bd4000          LDRSH    r4,[sp,#0]
0005fa  42bc              CMP      r4,r7
0005fc  dc30              BGT      |L1.1632|
0005fe  f9bd0004          LDRSH    r0,[sp,#4]
000602  42b8              CMP      r0,r7
000604  db2c              BLT      |L1.1632|
;;;415          int i, w = 0, x0 = rText.x0;
000606  f04f0800          MOV      r8,#0
;;;416          /* Check if another page must be selected */
;;;417          if (pObj->Widget.State & MULTIPAGE_STATE_SCROLLMODE) {
00060a  8cf0              LDRH     r0,[r6,#0x26]
00060c  f4107f80          TST      r0,#0x100
000610  d004              BEQ      |L1.1564|
;;;418            x0 -= _GetPagePosX(pObj, pObj->ScrollState);
000612  4630              MOV      r0,r6
000614  6b71              LDR      r1,[r6,#0x34]
000616  f7fffffe          BL       _GetPagePosX
00061a  1a24              SUBS     r4,r4,r0
                  |L1.1564|
;;;419          }
;;;420          for (i = 0; i < pObj->Handles.NumItems; i++) {
00061c  2500              MOVS     r5,#0
00061e  8d70              LDRH     r0,[r6,#0x2a]
000620  2800              CMP      r0,#0
000622  dd1d              BLE      |L1.1632|
                  |L1.1572|
;;;421            x0 += w;
000624  4444              ADD      r4,r4,r8
;;;422            w   = _GetPageSizeX(pObj, i);
000626  4629              MOV      r1,r5
000628  4630              MOV      r0,r6
00062a  f7fffffe          BL       _GetPageSizeX
00062e  4680              MOV      r8,r0
;;;423            if (x >= x0 && x <= (x0 + w - 1)) {
000630  42a7              CMP      r7,r4
000632  db11              BLT      |L1.1624|
000634  eb040008          ADD      r0,r4,r8
000638  1e40              SUBS     r0,r0,#1
00063a  42b8              CMP      r0,r7
00063c  db0c              BLT      |L1.1624|
;;;424              MULTIPAGE_SelectPage(hObj, i);
00063e  4629              MOV      r1,r5
000640  4648              MOV      r0,r9
000642  f7fffffe          BL       MULTIPAGE_SelectPage
;;;425              WM_NotifyParent(hObj, WM_NOTIFICATION_VALUE_CHANGED);
000646  2105              MOVS     r1,#5
000648  4648              MOV      r0,r9
00064a  f7fffffe          BL       WM_NotifyParent
;;;426              return 1;
;;;427            }
;;;428          }
;;;429        }
;;;430        return 0;
;;;431      }
;;;432      return 1;
;;;433    }
00064e  b003              ADD      sp,sp,#0xc
000650  2001              MOVS     r0,#1                 ;426
000652  e8bd83f0          POP      {r4-r9,pc}
                  |L1.1622|
000656  e003              B        |L1.1632|
                  |L1.1624|
000658  1c6d              ADDS     r5,r5,#1              ;420
00065a  8d70              LDRH     r0,[r6,#0x2a]         ;420
00065c  42a8              CMP      r0,r5                 ;420
00065e  dce1              BGT      |L1.1572|
                  |L1.1632|
000660  b003              ADD      sp,sp,#0xc
000662  2000              MOVS     r0,#0                 ;430
000664  e8bd83f0          POP      {r4-r9,pc}
                  |L1.1640|
000668  b003              ADD      sp,sp,#0xc
00066a  2001              MOVS     r0,#1                 ;432
00066c  e8bd83f0          POP      {r4-r9,pc}
;;;434    
                          ENDP

                  _OnTouch PROC
;;;438    */
;;;439    static void _OnTouch(MULTIPAGE_Handle hObj, MULTIPAGE_Obj* pObj, WM_MESSAGE*pMsg) {
000670  e92d47f0          PUSH     {r4-r10,lr}
000674  4680              MOV      r8,r0
000676  4615              MOV      r5,r2
;;;440      GUI_PID_STATE* pState;
;;;441      int Notification;
;;;442      if (pMsg->Data.p) {  /* Something happened in our area (pressed or released) */
000678  68ac              LDR      r4,[r5,#8]
00067a  b394              CBZ      r4,|L1.1762|
;;;443        pState = (GUI_PID_STATE*)pMsg->Data.p;
;;;444        if (pState->Pressed) {
00067c  7a20              LDRB     r0,[r4,#8]
00067e  b388              CBZ      r0,|L1.1764|
;;;445          int x = pState->x;
000680  6827              LDR      r7,[r4,#0]
;;;446          int y = pState->y;
000682  6866              LDR      r6,[r4,#4]
;;;447          if (!_ClickedOnMultipage(hObj, pObj, x, y)) {
000684  463a              MOV      r2,r7
000686  4633              MOV      r3,r6
000688  4640              MOV      r0,r8
00068a  f7fffffe          BL       _ClickedOnMultipage
00068e  b120              CBZ      r0,|L1.1690|
;;;448            WM_HWIN hBelow;
;;;449            x += WM_GetWindowOrgX(hObj);
;;;450            y += WM_GetWindowOrgY(hObj);
;;;451            hBelow = WM_Screen2hWinEx(hObj, x, y);
;;;452            if (hBelow) {
;;;453              pState->x = x - WM_GetWindowOrgX(hBelow);
;;;454              pState->y = y - WM_GetWindowOrgY(hBelow);
;;;455              pMsg->hWin = hBelow;
;;;456              (*WM_H2P(hBelow)->cb)(pMsg);
;;;457            }
;;;458          } else {
;;;459            WM_BringToTop(hObj);
000690  4640              MOV      r0,r8
000692  f7fffffe          BL       WM_BringToTop
                  |L1.1686|
;;;460          }
;;;461          Notification = WM_NOTIFICATION_CLICKED;
000696  2101              MOVS     r1,#1
;;;462        } else {
000698  e028              B        |L1.1772|
                  |L1.1690|
00069a  4640              MOV      r0,r8                 ;449
00069c  f7fffffe          BL       WM_GetWindowOrgX
0006a0  4407              ADD      r7,r7,r0              ;449
0006a2  4640              MOV      r0,r8                 ;450
0006a4  f7fffffe          BL       WM_GetWindowOrgY
0006a8  eb000906          ADD      r9,r0,r6              ;450
0006ac  464a              MOV      r2,r9                 ;451
0006ae  4639              MOV      r1,r7                 ;451
0006b0  4640              MOV      r0,r8                 ;451
0006b2  f7fffffe          BL       WM_Screen2hWinEx
0006b6  4606              MOV      r6,r0                 ;451
0006b8  2e00              CMP      r6,#0                 ;452
0006ba  d0ec              BEQ      |L1.1686|
0006bc  4630              MOV      r0,r6                 ;453
0006be  f7fffffe          BL       WM_GetWindowOrgX
0006c2  1a38              SUBS     r0,r7,r0              ;453
0006c4  6020              STR      r0,[r4,#0]            ;453
0006c6  4630              MOV      r0,r6                 ;454
0006c8  f7fffffe          BL       WM_GetWindowOrgY
0006cc  eba90000          SUB      r0,r9,r0              ;454
0006d0  6060              STR      r0,[r4,#4]            ;454
0006d2  80ae              STRH     r6,[r5,#4]            ;455
0006d4  4630              MOV      r0,r6                 ;456
0006d6  f7fffffe          BL       GUI_ALLOC_h2p
0006da  6901              LDR      r1,[r0,#0x10]         ;456
0006dc  4628              MOV      r0,r5                 ;456
0006de  4788              BLX      r1                    ;456
0006e0  e7d9              B        |L1.1686|
                  |L1.1762|
0006e2  e002              B        |L1.1770|
                  |L1.1764|
0006e4  e7ff              B        |L1.1766|
                  |L1.1766|
;;;463          Notification = WM_NOTIFICATION_RELEASED;
0006e6  2102              MOVS     r1,#2
0006e8  e000              B        |L1.1772|
                  |L1.1770|
;;;464        }
;;;465      } else {
;;;466        Notification = WM_NOTIFICATION_MOVED_OUT;
0006ea  2103              MOVS     r1,#3
                  |L1.1772|
;;;467      }
;;;468      WM_NotifyParent(hObj, Notification);
0006ec  4640              MOV      r0,r8
0006ee  e8bd47f0          POP      {r4-r10,lr}
0006f2  f7ffbffe          B.W      WM_NotifyParent
;;;469    }
;;;470    
                          ENDP

                  _MoveSel PROC
;;;482    */
;;;483    static void _MoveSel(MULTIPAGE_Handle hObj, MULTIPAGE_Obj * pObj, int Dir) {
0006f6  e92d47f0          PUSH     {r4-r10,lr}
0006fa  4682              MOV      r10,r0
0006fc  4688              MOV      r8,r1
0006fe  4616              MOV      r6,r2
;;;484      int Sel, NewSel, ScrollPos, NumItems;
;;;485      SCROLLBAR_Handle hScroll;
;;;486      hScroll  = WM_GetScrollbarH(hObj);
000700  4650              MOV      r0,r10
000702  f7fffffe          BL       WM_GetScrollbarH
000706  4681              MOV      r9,r0
;;;487      NewSel   = ScrollPos = -1;
000708  f04f35ff          MOV      r5,#0xffffffff
;;;488      NumItems = pObj->Handles.NumItems;
00070c  f8b8702a          LDRH     r7,[r8,#0x2a]
;;;489      for (Sel = pObj->Selection + Dir; (Sel >= 0) && (Sel < NumItems) && (NewSel == -1); Sel += Dir) {
000710  f8d80030          LDR      r0,[r8,#0x30]
000714  1984              ADDS     r4,r0,r6
000716  e006              B        |L1.1830|
                  |L1.1816|
;;;490        if (_GetEnable(pObj, Sel)) {
000718  4621              MOV      r1,r4
00071a  4640              MOV      r0,r8
00071c  f7fffffe          BL       _GetEnable
000720  b100              CBZ      r0,|L1.1828|
;;;491          NewSel = Sel;
000722  4625              MOV      r5,r4
                  |L1.1828|
000724  4434              ADD      r4,r4,r6              ;489
                  |L1.1830|
000726  2c00              CMP      r4,#0                 ;489
000728  db03              BLT      |L1.1842|
00072a  42bc              CMP      r4,r7                 ;489
00072c  da01              BGE      |L1.1842|
00072e  1c68              ADDS     r0,r5,#1              ;489
000730  d0f2              BEQ      |L1.1816|
                  |L1.1842|
;;;492        }
;;;493      }
;;;494      if (NewSel >= 0) {
000732  2d00              CMP      r5,#0
000734  db05              BLT      |L1.1858|
;;;495        MULTIPAGE_SelectPage(hObj, NewSel);
000736  4629              MOV      r1,r5
000738  4650              MOV      r0,r10
00073a  f7fffffe          BL       MULTIPAGE_SelectPage
;;;496        ScrollPos = NewSel;
00073e  4629              MOV      r1,r5
000740  e002              B        |L1.1864|
                  |L1.1858|
;;;497      } else {
;;;498        ScrollPos = pObj->ScrollState + Dir;
000742  f8d80034          LDR      r0,[r8,#0x34]
000746  1981              ADDS     r1,r0,r6
                  |L1.1864|
;;;499      }
;;;500      if (hScroll) {
000748  f1b90f00          CMP      r9,#0
00074c  d008              BEQ      |L1.1888|
;;;501        if ((ScrollPos >= 0) && (ScrollPos < NumItems)) {
00074e  2900              CMP      r1,#0
000750  db06              BLT      |L1.1888|
000752  42b9              CMP      r1,r7
000754  da04              BGE      |L1.1888|
;;;502          SCROLLBAR_SetValue(hScroll, ScrollPos);
000756  4648              MOV      r0,r9
000758  e8bd47f0          POP      {r4-r10,lr}
00075c  f7ffbffe          B.W      SCROLLBAR_SetValue
                  |L1.1888|
;;;503        }
;;;504      }
;;;505    }
000760  e8bd87f0          POP      {r4-r10,pc}
;;;506    
                          ENDP

                  _AddKey PROC
;;;513    */
;;;514    static int _AddKey(MULTIPAGE_Handle hObj, MULTIPAGE_Obj * pObj, int Key) {
000764  b510              PUSH     {r4,lr}
;;;515      switch (Key) {
000766  2a21              CMP      r2,#0x21
000768  d003              BEQ      |L1.1906|
00076a  2a22              CMP      r2,#0x22
00076c  d007              BEQ      |L1.1918|
;;;516      case GUI_KEY_PGUP:
;;;517        _MoveSel(hObj, pObj, -1);
;;;518        return 1;               /* Key has been consumed */
;;;519      case GUI_KEY_PGDOWN:
;;;520        _MoveSel(hObj, pObj, +1);
;;;521        return 1;               /* Key has been consumed */
;;;522      }
;;;523      return 0;                 /* Key has NOT been consumed */
00076e  2000              MOVS     r0,#0
;;;524    }
000770  bd10              POP      {r4,pc}
                  |L1.1906|
000772  f04f32ff          MOV      r2,#0xffffffff        ;517
000776  f7fffffe          BL       _MoveSel
00077a  2001              MOVS     r0,#1                 ;518
00077c  bd10              POP      {r4,pc}
                  |L1.1918|
00077e  2201              MOVS     r2,#1                 ;520
000780  f7fffffe          BL       _MoveSel
000784  2001              MOVS     r0,#1                 ;521
000786  bd10              POP      {r4,pc}
;;;525    
                          ENDP

                  _Callback PROC
;;;529    */
;;;530    static void _Callback (WM_MESSAGE *pMsg) {
000788  e92d41f0          PUSH     {r4-r8,lr}
00078c  4604              MOV      r4,r0
;;;531      MULTIPAGE_Handle hObj = pMsg->hWin;
00078e  f9b47004          LDRSH    r7,[r4,#4]
;;;532      MULTIPAGE_Obj* pObj;
;;;533      int Handled;
;;;534      WM_LOCK();
000792  f7fffffe          BL       GUI_Lock
;;;535      pObj = (MULTIPAGE_Obj *)GUI_ALLOC_h2p(hObj); /* Don't use use WIDGET_H2P because WIDGET_INIT_ID() has not be called at this point */
000796  4638              MOV      r0,r7
000798  f7fffffe          BL       GUI_ALLOC_h2p
00079c  4605              MOV      r5,r0
;;;536      Handled = WIDGET_HandleActive(hObj, pMsg);
00079e  4621              MOV      r1,r4
0007a0  4638              MOV      r0,r7
0007a2  f7fffffe          BL       WIDGET_HandleActive
0007a6  4606              MOV      r6,r0
;;;537      switch (pMsg->MsgId) {
0007a8  6820              LDR      r0,[r4,#0]
0007aa  2814              CMP      r0,#0x14
0007ac  d031              BEQ      |L1.2066|
0007ae  dc08              BGT      |L1.1986|
0007b0  2805              CMP      r0,#5
0007b2  d039              BEQ      |L1.2088|
0007b4  280b              CMP      r0,#0xb
0007b6  d03c              BEQ      |L1.2098|
0007b8  280c              CMP      r0,#0xc
0007ba  d00e              BEQ      |L1.2010|
0007bc  280f              CMP      r0,#0xf
0007be  d13c              BNE      |L1.2106|
0007c0  e007              B        |L1.2002|
                  |L1.1986|
0007c2  2817              CMP      r0,#0x17
0007c4  d021              BEQ      |L1.2058|
0007c6  2826              CMP      r0,#0x26
0007c8  d00d              BEQ      |L1.2022|
0007ca  f5b07f40          CMP      r0,#0x300
0007ce  d134              BNE      |L1.2106|
0007d0  e024              B        |L1.2076|
                  |L1.2002|
;;;538      case WM_PAINT:
;;;539        _Paint(pObj);
0007d2  4628              MOV      r0,r5
0007d4  f7fffffe          BL       _Paint
;;;540        break;
0007d8  e033              B        |L1.2114|
                  |L1.2010|
;;;541      case WM_TOUCH:
;;;542        _OnTouch(hObj, pObj, pMsg);
0007da  4622              MOV      r2,r4
0007dc  4629              MOV      r1,r5
0007de  4638              MOV      r0,r7
0007e0  f7fffffe          BL       _OnTouch
;;;543        break;
0007e4  e02d              B        |L1.2114|
                  |L1.2022|
;;;544      case WM_NOTIFY_PARENT:
;;;545        if (pMsg->Data.v == WM_NOTIFICATION_VALUE_CHANGED) {
0007e6  68a0              LDR      r0,[r4,#8]
0007e8  2805              CMP      r0,#5
0007ea  d12a              BNE      |L1.2114|
;;;546          if (WM_GetId(pMsg->hWinSrc) == GUI_ID_HSCROLL) {
0007ec  f9b40006          LDRSH    r0,[r4,#6]
0007f0  f7fffffe          BL       WM_GetId
0007f4  28ff              CMP      r0,#0xff
0007f6  d124              BNE      |L1.2114|
;;;547            pObj->ScrollState = SCROLLBAR_GetValue(pMsg->hWinSrc);
0007f8  f9b40006          LDRSH    r0,[r4,#6]
0007fc  f7fffffe          BL       SCROLLBAR_GetValue
000800  6368              STR      r0,[r5,#0x34]
;;;548            WM_InvalidateWindow(hObj);
000802  4638              MOV      r0,r7
000804  f7fffffe          BL       WM_InvalidateWindow
000808  e01b              B        |L1.2114|
                  |L1.2058|
;;;549          }
;;;550        }
;;;551        break;
;;;552      case WM_GET_CLIENT_WINDOW:
;;;553        pMsg->Data.v = (int)pObj->hClient;
00080a  f9b50028          LDRSH    r0,[r5,#0x28]
00080e  60a0              STR      r0,[r4,#8]
;;;554        break;
000810  e017              B        |L1.2114|
                  |L1.2066|
;;;555      case WM_GET_INSIDE_RECT:
;;;556        _CalcClientRect(pObj, (GUI_RECT*)(pMsg->Data.p));
000812  4628              MOV      r0,r5
000814  68a1              LDR      r1,[r4,#8]
000816  f7fffffe          BL       _CalcClientRect
;;;557        break;
00081a  e012              B        |L1.2114|
                  |L1.2076|
;;;558      case WM_WIDGET_SET_EFFECT:
;;;559        WIDGET_SetEffect(WM_GetScrollbarH(hObj), (WIDGET_EFFECT const *)pMsg->Data.p);
00081c  4638              MOV      r0,r7
00081e  f7fffffe          BL       WM_GetScrollbarH
000822  68a1              LDR      r1,[r4,#8]
000824  f7fffffe          BL       WIDGET_SetEffect
                  |L1.2088|
;;;560      case WM_SIZE:
;;;561        _UpdatePositions(hObj, pObj);
000828  4629              MOV      r1,r5
00082a  4638              MOV      r0,r7
00082c  f7fffffe          BL       _UpdatePositions
;;;562        break;
000830  e007              B        |L1.2114|
                  |L1.2098|
;;;563      case WM_DELETE:
;;;564        GUI_ARRAY_Delete(&pObj->Handles);
000832  f105002a          ADD      r0,r5,#0x2a
000836  f7fffffe          BL       GUI_ARRAY_Delete
                  |L1.2106|
;;;565        /* No break here ... WM_DefaultProc needs to be called */
;;;566      default:
;;;567        /* Let widget handle the standard messages */
;;;568        if (Handled) {
00083a  b116              CBZ      r6,|L1.2114|
;;;569          WM_DefaultProc(pMsg);
00083c  4620              MOV      r0,r4
00083e  f7fffffe          BL       WM_DefaultProc
                  |L1.2114|
;;;570        }
;;;571      }
;;;572      WM_UNLOCK();
000842  e8bd41f0          POP      {r4-r8,lr}
000846  f7ffbffe          B.W      GUI_Unlock
;;;573    }
;;;574    
                          ENDP

                  _ClientCallback PROC
;;;578    */
;;;579    static void _ClientCallback(WM_MESSAGE* pMsg) {
00084a  b570              PUSH     {r4-r6,lr}
00084c  4604              MOV      r4,r0
;;;580      WM_HWIN hObj = pMsg->hWin;
00084e  f9b45004          LDRSH    r5,[r4,#4]
;;;581      WM_HWIN hParent = WM_GetParent(hObj);
000852  4628              MOV      r0,r5
000854  f7fffffe          BL       WM_GetParent
000858  4606              MOV      r6,r0
;;;582      MULTIPAGE_Obj* pParent;
;;;583      WM_LOCK();
00085a  f7fffffe          BL       GUI_Lock
;;;584      pParent = (MULTIPAGE_Obj *)GUI_ALLOC_h2p(hParent); /* Don't use use WIDGET_H2P because WIDGET_INIT_ID() has not be called at this point */
00085e  4630              MOV      r0,r6
000860  f7fffffe          BL       GUI_ALLOC_h2p
000864  4601              MOV      r1,r0
;;;585      switch (pMsg->MsgId) {
000866  6820              LDR      r0,[r4,#0]
000868  280f              CMP      r0,#0xf
00086a  d00a              BEQ      |L1.2178|
00086c  dc04              BGT      |L1.2168|
00086e  280c              CMP      r0,#0xc
000870  d00d              BEQ      |L1.2190|
000872  280e              CMP      r0,#0xe
000874  d120              BNE      |L1.2232|
000876  e013              B        |L1.2208|
                  |L1.2168|
000878  2814              CMP      r0,#0x14
00087a  d01a              BEQ      |L1.2226|
00087c  2817              CMP      r0,#0x17
00087e  d11b              BNE      |L1.2232|
000880  e00c              B        |L1.2204|
                  |L1.2178|
;;;586      case WM_PAINT:
;;;587        LCD_SetBkColor(pParent->aBkColor[1]);
000882  6c48              LDR      r0,[r1,#0x44]
000884  f7fffffe          BL       LCD_SetBkColor
;;;588        GUI_Clear();
000888  f7fffffe          BL       GUI_Clear
;;;589        break;
00088c  e014              B        |L1.2232|
                  |L1.2190|
;;;590      case WM_TOUCH:
;;;591        WM_SetFocus(hParent);
00088e  4630              MOV      r0,r6
000890  f7fffffe          BL       WM_SetFocus
;;;592        WM_BringToTop(hParent);
000894  4630              MOV      r0,r6
000896  f7fffffe          BL       WM_BringToTop
;;;593        break;
00089a  e00d              B        |L1.2232|
                  |L1.2204|
;;;594      case WM_GET_CLIENT_WINDOW:
;;;595        pMsg->Data.v = (int)hObj;
00089c  60a5              STR      r5,[r4,#8]
;;;596        break;
00089e  e00b              B        |L1.2232|
                  |L1.2208|
;;;597      case WM_KEY:
;;;598        if (((const WM_KEY_INFO*)(pMsg->Data.p))->PressedCnt > 0) {
0008a0  68a0              LDR      r0,[r4,#8]
0008a2  6842              LDR      r2,[r0,#4]
0008a4  2a00              CMP      r2,#0
0008a6  dd04              BLE      |L1.2226|
;;;599          int Key;
;;;600          Key = ((const WM_KEY_INFO*)(pMsg->Data.p))->Key;
0008a8  6802              LDR      r2,[r0,#0]
;;;601          if (_AddKey(hParent, pParent, Key)) {
0008aa  4630              MOV      r0,r6
0008ac  f7fffffe          BL       _AddKey
0008b0  b910              CBNZ     r0,|L1.2232|
                  |L1.2226|
;;;602            break;
;;;603          }
;;;604        }
;;;605        /* No break here ... WM_DefaultProc needs to be called */
;;;606      case WM_GET_INSIDE_RECT:
;;;607        WM_DefaultProc(pMsg);
0008b2  4620              MOV      r0,r4
0008b4  f7fffffe          BL       WM_DefaultProc
                  |L1.2232|
;;;608      }
;;;609      WM_UNLOCK();
0008b8  e8bd4070          POP      {r4-r6,lr}
0008bc  f7ffbffe          B.W      GUI_Unlock
;;;610    }
;;;611    
                          ENDP

                  MULTIPAGE_CreateEx PROC
;;;648    */
;;;649    MULTIPAGE_Handle MULTIPAGE_CreateEx(int x0, int y0, int xsize, int ysize, WM_HWIN hParent,
0008c0  b5f0              PUSH     {r4-r7,lr}
;;;650                                        int WinFlags, int ExFlags, int Id)
;;;651    {
0008c2  b087              SUB      sp,sp,#0x1c
0008c4  4684              MOV      r12,r0
0008c6  460c              MOV      r4,r1
0008c8  9e0f              LDR      r6,[sp,#0x3c]
0008ca  990d              LDR      r1,[sp,#0x34]
0008cc  980c              LDR      r0,[sp,#0x30]
0008ce  4615              MOV      r5,r2
0008d0  461f              MOV      r7,r3
;;;652      MULTIPAGE_Handle hObj;
;;;653      GUI_USE_PARA(ExFlags);
;;;654      /* Create the window */
;;;655      hObj = WM_CreateWindowAsChild(x0, y0, xsize, ysize, hParent, WinFlags | WM_CF_HASTRANS, &_Callback,
0008d2  b289              UXTH     r1,r1
0008d4  2330              MOVS     r3,#0x30
0008d6  4afb              LDR      r2,|L1.3268|
0008d8  f0410101          ORR      r1,r1,#1
0008dc  e88d000f          STM      sp,{r0-r3}
0008e0  463b              MOV      r3,r7
0008e2  462a              MOV      r2,r5
0008e4  4621              MOV      r1,r4
0008e6  4660              MOV      r0,r12
0008e8  f7fffffe          BL       WM_CreateWindowAsChild
0008ec  4605              MOV      r5,r0
;;;656                                    sizeof(MULTIPAGE_Obj) - sizeof(WM_Obj));
;;;657      if (hObj) {
0008ee  b3ed              CBZ      r5,|L1.2412|
;;;658        MULTIPAGE_Obj* pObj;
;;;659        GUI_RECT rClient;
;;;660        int Flags;
;;;661        WM_LOCK();
0008f0  f7fffffe          BL       GUI_Lock
;;;662        pObj = (MULTIPAGE_Obj *)GUI_ALLOC_h2p(hObj); /* Don't use use WIDGET_H2P because WIDGET_INIT_ID() has not be called at this point */
0008f4  4628              MOV      r0,r5
0008f6  f7fffffe          BL       GUI_ALLOC_h2p
0008fa  4604              MOV      r4,r0
;;;663        /* Init sub-classes */
;;;664        GUI_ARRAY_CREATE(&pObj->Handles);
;;;665        /* init widget specific variables */
;;;666        WIDGET__Init(&pObj->Widget, Id, WIDGET_STATE_FOCUSSABLE);
0008fc  2210              MOVS     r2,#0x10
0008fe  4631              MOV      r1,r6
000900  4620              MOV      r0,r4
000902  f7fffffe          BL       WIDGET__Init
;;;667        /* init member variables */
;;;668        MULTIPAGE_INIT_ID(pObj);
;;;669        pObj->aBkColor[0]     = MULTIPAGE__DefaultBkColor[0];
000906  49f0              LDR      r1,|L1.3272|
000908  6808              LDR      r0,[r1,#0]  ; MULTIPAGE__DefaultBkColor
00090a  6420              STR      r0,[r4,#0x40]
;;;670        pObj->aBkColor[1]     = MULTIPAGE__DefaultBkColor[1];
00090c  6848              LDR      r0,[r1,#4]  ; MULTIPAGE__DefaultBkColor
00090e  6460              STR      r0,[r4,#0x44]
;;;671        pObj->aTextColor[0]   = MULTIPAGE__DefaultTextColor[0];
000910  3108              ADDS     r1,r1,#8
000912  6808              LDR      r0,[r1,#0]  ; MULTIPAGE__DefaultTextColor
000914  64a0              STR      r0,[r4,#0x48]
;;;672        pObj->aTextColor[1]   = MULTIPAGE__DefaultTextColor[1];
000916  6848              LDR      r0,[r1,#4]  ; MULTIPAGE__DefaultTextColor
000918  64e0              STR      r0,[r4,#0x4c]
;;;673        pObj->Font            = MULTIPAGE__pDefaultFont;
00091a  3910              SUBS     r1,r1,#0x10
00091c  6808              LDR      r0,[r1,#0]  ; MULTIPAGE__pDefaultFont
00091e  63e0              STR      r0,[r4,#0x3c]
;;;674        pObj->Align           = MULTIPAGE__DefaultAlign;
000920  6848              LDR      r0,[r1,#4]  ; MULTIPAGE__DefaultAlign
000922  63a0              STR      r0,[r4,#0x38]
;;;675        pObj->Selection       = 0xffff;
000924  f64f70ff          MOV      r0,#0xffff
000928  6320              STR      r0,[r4,#0x30]
;;;676        pObj->ScrollState     = 0;
00092a  2100              MOVS     r1,#0
00092c  6361              STR      r1,[r4,#0x34]
;;;677        pObj->Widget.State    = 0;
00092e  84e1              STRH     r1,[r4,#0x26]
;;;678        _CalcClientRect(pObj, &rClient);
000930  a904              ADD      r1,sp,#0x10
000932  4620              MOV      r0,r4
000934  f7fffffe          BL       _CalcClientRect
;;;679        Flags = WM_CF_SHOW | WM_CF_ANCHOR_LEFT | WM_CF_ANCHOR_RIGHT | WM_CF_ANCHOR_TOP | WM_CF_ANCHOR_BOTTOM;
;;;680        pObj->hClient = WM_CreateWindowAsChild(rClient.x0, rClient.y0,
000938  f2407182          MOV      r1,#0x782
00093c  9500              STR      r5,[sp,#0]
00093e  9101              STR      r1,[sp,#4]
000940  f9bd0016          LDRSH    r0,[sp,#0x16]
000944  f9bd1012          LDRSH    r1,[sp,#0x12]
000948  2300              MOVS     r3,#0
00094a  4ae0              LDR      r2,|L1.3276|
00094c  9303              STR      r3,[sp,#0xc]
00094e  1a40              SUBS     r0,r0,r1
000950  9202              STR      r2,[sp,#8]
000952  1c43              ADDS     r3,r0,#1
000954  f9bd2014          LDRSH    r2,[sp,#0x14]
000958  f9bd0010          LDRSH    r0,[sp,#0x10]
00095c  1a12              SUBS     r2,r2,r0
00095e  1c52              ADDS     r2,r2,#1
000960  f7fffffe          BL       WM_CreateWindowAsChild
000964  8520              STRH     r0,[r4,#0x28]
;;;681                                               rClient.x1 - rClient.x0 + 1,
;;;682                                               rClient.y1 - rClient.y0 + 1,
;;;683                                               hObj, Flags, &_ClientCallback, 0);
;;;684        _UpdatePositions(hObj, pObj);
000966  4621              MOV      r1,r4
000968  4628              MOV      r0,r5
00096a  e000              B        |L1.2414|
                  |L1.2412|
00096c  e003              B        |L1.2422|
                  |L1.2414|
00096e  f7fffffe          BL       _UpdatePositions
;;;685        WM_UNLOCK();
000972  f7fffffe          BL       GUI_Unlock
                  |L1.2422|
;;;686      } else {
;;;687        GUI_DEBUG_ERROROUT_IF(hObj==0, "MULTIPAGE_Create failed")
;;;688      }
;;;689      return hObj;
;;;690    }
000976  b007              ADD      sp,sp,#0x1c
000978  4628              MOV      r0,r5                 ;689
00097a  bdf0              POP      {r4-r7,pc}
;;;691    
                          ENDP

                  MULTIPAGE_AddPage PROC
;;;701    */
;;;702    void MULTIPAGE_AddPage(MULTIPAGE_Handle hObj, WM_HWIN hWin ,const char* pText) {
00097c  e92d47f0          PUSH     {r4-r10,lr}
000980  b082              SUB      sp,sp,#8
000982  4682              MOV      r10,r0
000984  460f              MOV      r7,r1
000986  4690              MOV      r8,r2
;;;703      MULTIPAGE_Obj* pObj;
;;;704      GUI_USE_PARA(hWin);
;;;705      if (hObj) {
000988  f1ba0f00          CMP      r10,#0
00098c  d065              BEQ      |L1.2650|
;;;706        WM_LOCK();
00098e  f7fffffe          BL       GUI_Lock
;;;707        pObj = MULTIPAGE_H2P(hObj);
000992  4650              MOV      r0,r10
000994  f7fffffe          BL       GUI_ALLOC_h2p
000998  4604              MOV      r4,r0
;;;708        if (!hWin) {
00099a  b16f              CBZ      r7,|L1.2488|
;;;709          /* If we get no handle we must find it. To do this, we search      */
;;;710          /* all children until we found one that has not yet become a page. */
;;;711          MULTIPAGE_PAGE* pPage;
;;;712          WM_HWIN hChild;
;;;713          WM_Obj* pChild;
;;;714          WM_Obj* pClient = WM_H2P(pObj->hClient);
;;;715          int i;
;;;716          for (hChild = pClient->hFirstChild; hChild && !hWin; hChild = pChild->hNext) {
;;;717            pChild = WM_H2P(hChild);
;;;718            hWin = hChild;
;;;719            for (i = 0; i < pObj->Handles.NumItems; i++) {
;;;720              pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, i);
;;;721              if (pPage->hWin == hChild) {
;;;722                hWin = 0;
;;;723                break;
;;;724              }
;;;725            }
;;;726          }
;;;727        } else {
;;;728          /* If we get a handle we must ensure that it was attached to the multipage */
;;;729          WM_AttachWindowAt(hWin, pObj->hClient, 0, 0);
00099c  2300              MOVS     r3,#0
00099e  f9b41028          LDRSH    r1,[r4,#0x28]
0009a2  461a              MOV      r2,r3
0009a4  4638              MOV      r0,r7
0009a6  f7fffffe          BL       WM_AttachWindowAt
                  |L1.2474|
;;;730        }
;;;731        if (hWin) {
0009aa  b3f7              CBZ      r7,|L1.2602|
;;;732          MULTIPAGE_PAGE Page;
;;;733          char NullByte = 0;
0009ac  2000              MOVS     r0,#0
0009ae  9000              STR      r0,[sp,#0]
;;;734          if (!pText) {
0009b0  f1b80f00          CMP      r8,#0
0009b4  d026              BEQ      |L1.2564|
0009b6  e026              B        |L1.2566|
                  |L1.2488|
0009b8  f9b40028          LDRSH    r0,[r4,#0x28]         ;714
0009bc  f7fffffe          BL       GUI_ALLOC_h2p
0009c0  f9b06018          LDRSH    r6,[r0,#0x18]         ;716
0009c4  e019              B        |L1.2554|
                  |L1.2502|
0009c6  4630              MOV      r0,r6                 ;717
0009c8  f7fffffe          BL       GUI_ALLOC_h2p
0009cc  4681              MOV      r9,r0                 ;717
0009ce  4637              MOV      r7,r6                 ;718
0009d0  2500              MOVS     r5,#0                 ;719
0009d2  8d60              LDRH     r0,[r4,#0x2a]         ;719
0009d4  2800              CMP      r0,#0                 ;719
0009d6  dd0e              BLE      |L1.2550|
                  |L1.2520|
0009d8  4629              MOV      r1,r5                 ;720
0009da  f104002a          ADD      r0,r4,#0x2a           ;720
0009de  f7fffffe          BL       GUI_ARRAY_GetpItem
0009e2  f9b00000          LDRSH    r0,[r0,#0]            ;721
0009e6  42b0              CMP      r0,r6                 ;721
0009e8  d101              BNE      |L1.2542|
0009ea  2700              MOVS     r7,#0                 ;722
0009ec  e003              B        |L1.2550|
                  |L1.2542|
0009ee  1c6d              ADDS     r5,r5,#1              ;719
0009f0  8d60              LDRH     r0,[r4,#0x2a]         ;719
0009f2  42a8              CMP      r0,r5                 ;719
0009f4  dcf0              BGT      |L1.2520|
                  |L1.2550|
0009f6  f9b9601a          LDRSH    r6,[r9,#0x1a]         ;716
                  |L1.2554|
0009fa  2e00              CMP      r6,#0                 ;716
0009fc  d0d5              BEQ      |L1.2474|
0009fe  2f00              CMP      r7,#0                 ;716
000a00  d0e1              BEQ      |L1.2502|
000a02  e7d2              B        |L1.2474|
                  |L1.2564|
;;;735            pText = &NullByte;
000a04  46e8              MOV      r8,sp
                  |L1.2566|
;;;736          }
;;;737          Page.hWin   = hWin;
000a06  f8ad7004          STRH     r7,[sp,#4]
;;;738          Page.Status = MULTIPAGE_STATE_ENABLED;
000a0a  2001              MOVS     r0,#1
000a0c  f88d0006          STRB     r0,[sp,#6]
;;;739          if (GUI_ARRAY_AddItem(&pObj->Handles, &Page, sizeof(MULTIPAGE_PAGE) + strlen(pText)) == 0) {
000a10  4640              MOV      r0,r8
000a12  f7fffffe          BL       strlen
000a16  1d02              ADDS     r2,r0,#4
000a18  a901              ADD      r1,sp,#4
000a1a  f104002a          ADD      r0,r4,#0x2a
000a1e  f7fffffe          BL       GUI_ARRAY_AddItem
000a22  b980              CBNZ     r0,|L1.2630|
;;;740            MULTIPAGE_PAGE* pPage;
;;;741            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, pObj->Handles.NumItems - 1);
000a24  8d60              LDRH     r0,[r4,#0x2a]
000a26  1e41              SUBS     r1,r0,#1
000a28  e000              B        |L1.2604|
                  |L1.2602|
000a2a  e011              B        |L1.2640|
                  |L1.2604|
000a2c  f104002a          ADD      r0,r4,#0x2a
000a30  f7fffffe          BL       GUI_ARRAY_GetpItem
000a34  4605              MOV      r5,r0
;;;742            memcpy(&pPage->acText, pText, strlen(pText) + 1);
000a36  4640              MOV      r0,r8
000a38  f7fffffe          BL       strlen
000a3c  1c42              ADDS     r2,r0,#1
000a3e  4641              MOV      r1,r8
000a40  1ce8              ADDS     r0,r5,#3
000a42  f7fffffe          BL       __aeabi_memcpy
                  |L1.2630|
;;;743          }
;;;744          MULTIPAGE_SelectPage(hObj, pObj->Handles.NumItems - 1);
000a46  8d60              LDRH     r0,[r4,#0x2a]
000a48  1e41              SUBS     r1,r0,#1
000a4a  4650              MOV      r0,r10
000a4c  f7fffffe          BL       MULTIPAGE_SelectPage
                  |L1.2640|
;;;745        }
;;;746        WM_UNLOCK();
000a50  b002              ADD      sp,sp,#8
000a52  e8bd47f0          POP      {r4-r10,lr}
000a56  f7ffbffe          B.W      GUI_Unlock
                  |L1.2650|
;;;747      }
;;;748    }
000a5a  b002              ADD      sp,sp,#8
000a5c  e8bd87f0          POP      {r4-r10,pc}
;;;749    
                          ENDP

                  MULTIPAGE_DeletePage PROC
;;;753    */
;;;754    void MULTIPAGE_DeletePage(MULTIPAGE_Handle hObj, unsigned Index, int Delete) {
000a60  e92d41f0          PUSH     {r4-r8,lr}
000a64  4606              MOV      r6,r0
000a66  460d              MOV      r5,r1
000a68  4617              MOV      r7,r2
;;;755      if (hObj) {
000a6a  2e00              CMP      r6,#0
000a6c  d039              BEQ      |L1.2786|
;;;756        MULTIPAGE_Obj* pObj;
;;;757        WM_LOCK();
000a6e  f7fffffe          BL       GUI_Lock
;;;758        pObj = MULTIPAGE_H2P(hObj);
000a72  4630              MOV      r0,r6
000a74  f7fffffe          BL       GUI_ALLOC_h2p
000a78  4604              MOV      r4,r0
;;;759        if (pObj) {
000a7a  b374              CBZ      r4,|L1.2778|
;;;760          if ((int)Index < pObj->Handles.NumItems) {
000a7c  8d60              LDRH     r0,[r4,#0x2a]
000a7e  42a8              CMP      r0,r5
000a80  dd2b              BLE      |L1.2778|
;;;761            WM_HWIN hWin;
;;;762            MULTIPAGE_PAGE* pPage;
;;;763            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000a82  4629              MOV      r1,r5
000a84  f104002a          ADD      r0,r4,#0x2a
000a88  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;764            hWin = pPage->hWin;
000a8c  f9b08000          LDRSH    r8,[r0,#0]
;;;765            /* Remove the page from the multipage object */
;;;766            if (Index == pObj->Selection) {
000a90  6b20              LDR      r0,[r4,#0x30]
000a92  42a8              CMP      r0,r5
000a94  d111              BNE      |L1.2746|
;;;767              if (Index == ((unsigned)pObj->Handles.NumItems - 1)) {
000a96  8d60              LDRH     r0,[r4,#0x2a]
000a98  f1a00001          SUB      r0,r0,#1
000a9c  42a8              CMP      r0,r5
000a9e  d107              BNE      |L1.2736|
;;;768                _ShowPage(pObj, Index - 1);
000aa0  1e69              SUBS     r1,r5,#1
000aa2  4620              MOV      r0,r4
000aa4  f7fffffe          BL       _ShowPage
;;;769                pObj->Selection--;
000aa8  6b20              LDR      r0,[r4,#0x30]
000aaa  1e40              SUBS     r0,r0,#1
000aac  6320              STR      r0,[r4,#0x30]
000aae  e007              B        |L1.2752|
                  |L1.2736|
;;;770              } else {
;;;771                _ShowPage(pObj, Index + 1);
000ab0  1c69              ADDS     r1,r5,#1
000ab2  4620              MOV      r0,r4
000ab4  f7fffffe          BL       _ShowPage
000ab8  e002              B        |L1.2752|
                  |L1.2746|
;;;772              }
;;;773            } else {
;;;774              if (Index < pObj->Selection) {
000aba  d901              BLS      |L1.2752|
;;;775                pObj->Selection--;
000abc  1e40              SUBS     r0,r0,#1
000abe  6320              STR      r0,[r4,#0x30]
                  |L1.2752|
;;;776              }
;;;777            }
;;;778            GUI_ARRAY_DeleteItem(&pObj->Handles, Index);
000ac0  4629              MOV      r1,r5
000ac2  f104002a          ADD      r0,r4,#0x2a
000ac6  f7fffffe          BL       GUI_ARRAY_DeleteItem
;;;779            _UpdatePositions(hObj, pObj);
000aca  4621              MOV      r1,r4
000acc  4630              MOV      r0,r6
000ace  f7fffffe          BL       _UpdatePositions
;;;780            /* Delete the window of the page */
;;;781            if (Delete) {
000ad2  b117              CBZ      r7,|L1.2778|
;;;782              WM_DeleteWindow(hWin);
000ad4  4640              MOV      r0,r8
000ad6  f7fffffe          BL       WM_DeleteWindow
                  |L1.2778|
;;;783            }
;;;784          }
;;;785        }
;;;786        WM_UNLOCK();
000ada  e8bd41f0          POP      {r4-r8,lr}
000ade  f7ffbffe          B.W      GUI_Unlock
                  |L1.2786|
;;;787      }
;;;788    }
000ae2  e8bd81f0          POP      {r4-r8,pc}
;;;789    
                          ENDP

                  MULTIPAGE_DisablePage PROC
;;;823    */
;;;824    void MULTIPAGE_DisablePage(MULTIPAGE_Handle hObj, unsigned Index) {
000ae6  b570              PUSH     {r4-r6,lr}
000ae8  4604              MOV      r4,r0
000aea  460d              MOV      r5,r1
;;;825      if (hObj) {
000aec  2c00              CMP      r4,#0
000aee  d010              BEQ      |L1.2834|
;;;826        MULTIPAGE_Obj* pObj;
;;;827        WM_LOCK();
000af0  f7fffffe          BL       GUI_Lock
;;;828        pObj = MULTIPAGE_H2P(hObj);
000af4  4620              MOV      r0,r4
000af6  f7fffffe          BL       GUI_ALLOC_h2p
;;;829        if (pObj) {
000afa  b130              CBZ      r0,|L1.2826|
;;;830          _SetEnable(pObj, Index, 0);
000afc  2200              MOVS     r2,#0
000afe  4629              MOV      r1,r5
000b00  f7fffffe          BL       _SetEnable
;;;831          WM_InvalidateWindow(hObj);
000b04  4620              MOV      r0,r4
000b06  f7fffffe          BL       WM_InvalidateWindow
                  |L1.2826|
;;;832        }
;;;833        WM_UNLOCK();
000b0a  e8bd4070          POP      {r4-r6,lr}
000b0e  f7ffbffe          B.W      GUI_Unlock
                  |L1.2834|
;;;834      }
;;;835    }
000b12  bd70              POP      {r4-r6,pc}
;;;836    
                          ENDP

                  MULTIPAGE_EnablePage PROC
;;;840    */
;;;841    void MULTIPAGE_EnablePage(MULTIPAGE_Handle hObj, unsigned Index) {
000b14  b570              PUSH     {r4-r6,lr}
000b16  4604              MOV      r4,r0
000b18  460d              MOV      r5,r1
;;;842      if (hObj) {
000b1a  2c00              CMP      r4,#0
000b1c  d010              BEQ      |L1.2880|
;;;843        MULTIPAGE_Obj* pObj;
;;;844        WM_LOCK();
000b1e  f7fffffe          BL       GUI_Lock
;;;845        pObj = MULTIPAGE_H2P(hObj);
000b22  4620              MOV      r0,r4
000b24  f7fffffe          BL       GUI_ALLOC_h2p
;;;846        if (pObj) {
000b28  b130              CBZ      r0,|L1.2872|
;;;847          _SetEnable(pObj, Index, 1);
000b2a  2201              MOVS     r2,#1
000b2c  4629              MOV      r1,r5
000b2e  f7fffffe          BL       _SetEnable
;;;848          WM_InvalidateWindow(hObj);
000b32  4620              MOV      r0,r4
000b34  f7fffffe          BL       WM_InvalidateWindow
                  |L1.2872|
;;;849        }
;;;850        WM_UNLOCK();
000b38  e8bd4070          POP      {r4-r6,lr}
000b3c  f7ffbffe          B.W      GUI_Unlock
                  |L1.2880|
;;;851      }
;;;852    }
000b40  bd70              POP      {r4-r6,pc}
;;;853    
                          ENDP

                  MULTIPAGE_SetText PROC
;;;863    */
;;;864    void MULTIPAGE_SetText(MULTIPAGE_Handle hObj, const char* pText, unsigned Index) {
000b42  b5f8              PUSH     {r3-r7,lr}
000b44  4606              MOV      r6,r0
000b46  460d              MOV      r5,r1
000b48  4617              MOV      r7,r2
;;;865      MULTIPAGE_Obj* pObj;
;;;866      if (hObj && pText) {
000b4a  2e00              CMP      r6,#0
000b4c  d037              BEQ      |L1.3006|
000b4e  2d00              CMP      r5,#0
000b50  d035              BEQ      |L1.3006|
;;;867        WM_LOCK();
000b52  f7fffffe          BL       GUI_Lock
;;;868        pObj = MULTIPAGE_H2P(hObj);
000b56  4630              MOV      r0,r6
000b58  f7fffffe          BL       GUI_ALLOC_h2p
000b5c  4604              MOV      r4,r0
;;;869        if (pObj) {
000b5e  b354              CBZ      r4,|L1.2998|
;;;870          if ((int)Index < pObj->Handles.NumItems) {
000b60  8d60              LDRH     r0,[r4,#0x2a]
000b62  42b8              CMP      r0,r7
000b64  dd27              BLE      |L1.2998|
;;;871            MULTIPAGE_PAGE* pPage;
;;;872            MULTIPAGE_PAGE Page;
;;;873            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000b66  4639              MOV      r1,r7
000b68  f104002a          ADD      r0,r4,#0x2a
000b6c  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;874            Page.hWin   = pPage->hWin;
000b70  8801              LDRH     r1,[r0,#0]
000b72  f8ad1000          STRH     r1,[sp,#0]
;;;875            Page.Status = pPage->Status;
000b76  7880              LDRB     r0,[r0,#2]
000b78  f88d0002          STRB     r0,[sp,#2]
;;;876            if (GUI_ARRAY_SetItem(&pObj->Handles, Index, &Page, sizeof(MULTIPAGE_PAGE) + strlen(pText))) {
000b7c  4628              MOV      r0,r5
000b7e  f7fffffe          BL       strlen
000b82  1d03              ADDS     r3,r0,#4
000b84  466a              MOV      r2,sp
000b86  4639              MOV      r1,r7
000b88  f104002a          ADD      r0,r4,#0x2a
000b8c  f7fffffe          BL       GUI_ARRAY_SetItem
000b90  b188              CBZ      r0,|L1.2998|
;;;877              pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000b92  4639              MOV      r1,r7
000b94  f104002a          ADD      r0,r4,#0x2a
000b98  f7fffffe          BL       GUI_ARRAY_GetpItem
000b9c  4607              MOV      r7,r0
;;;878              memcpy(&pPage->acText, pText, strlen(pText) + 1);          
000b9e  4628              MOV      r0,r5
000ba0  f7fffffe          BL       strlen
000ba4  1c42              ADDS     r2,r0,#1
000ba6  4629              MOV      r1,r5
000ba8  1cf8              ADDS     r0,r7,#3
000baa  f7fffffe          BL       __aeabi_memcpy
;;;879              _UpdatePositions(hObj, pObj);
000bae  4621              MOV      r1,r4
000bb0  4630              MOV      r0,r6
000bb2  f7fffffe          BL       _UpdatePositions
                  |L1.2998|
;;;880            }
;;;881          }
;;;882        }
;;;883        WM_UNLOCK();
000bb6  e8bd40f8          POP      {r3-r7,lr}
000bba  f7ffbffe          B.W      GUI_Unlock
                  |L1.3006|
;;;884      }
;;;885    }
000bbe  bdf8              POP      {r3-r7,pc}
;;;886    
                          ENDP

                  MULTIPAGE_SetBkColor PROC
;;;890    */
;;;891    void MULTIPAGE_SetBkColor(MULTIPAGE_Handle hObj, GUI_COLOR Color, unsigned Index) {
000bc0  b570              PUSH     {r4-r6,lr}
000bc2  4606              MOV      r6,r0
000bc4  460d              MOV      r5,r1
000bc6  4614              MOV      r4,r2
;;;892      MULTIPAGE_Obj* pObj;
;;;893      if (hObj && ((int)Index < MULTIPAGE_NUMCOLORS)) {
000bc8  2e00              CMP      r6,#0
000bca  d011              BEQ      |L1.3056|
000bcc  2c02              CMP      r4,#2
000bce  da0f              BGE      |L1.3056|
;;;894        WM_LOCK();
000bd0  f7fffffe          BL       GUI_Lock
;;;895        pObj = MULTIPAGE_H2P(hObj);
000bd4  4630              MOV      r0,r6
000bd6  f7fffffe          BL       GUI_ALLOC_h2p
;;;896        if (pObj) {
000bda  b128              CBZ      r0,|L1.3048|
;;;897          pObj->aBkColor[Index] = Color;
000bdc  eb000084          ADD      r0,r0,r4,LSL #2
000be0  6405              STR      r5,[r0,#0x40]
;;;898          WM_InvalidateWindow(hObj);
000be2  4630              MOV      r0,r6
000be4  f7fffffe          BL       WM_InvalidateWindow
                  |L1.3048|
;;;899        }
;;;900        WM_UNLOCK();
000be8  e8bd4070          POP      {r4-r6,lr}
000bec  f7ffbffe          B.W      GUI_Unlock
                  |L1.3056|
;;;901      }
;;;902    }
000bf0  bd70              POP      {r4-r6,pc}
;;;903    
                          ENDP

                  MULTIPAGE_SetTextColor PROC
;;;907    */
;;;908    void MULTIPAGE_SetTextColor(MULTIPAGE_Handle hObj, GUI_COLOR Color, unsigned Index) {
000bf2  b570              PUSH     {r4-r6,lr}
000bf4  4606              MOV      r6,r0
000bf6  460d              MOV      r5,r1
000bf8  4614              MOV      r4,r2
;;;909      MULTIPAGE_Obj* pObj;
;;;910      if (hObj && ((int)Index < MULTIPAGE_NUMCOLORS)) {
000bfa  2e00              CMP      r6,#0
000bfc  d011              BEQ      |L1.3106|
000bfe  2c02              CMP      r4,#2
000c00  da0f              BGE      |L1.3106|
;;;911        WM_LOCK();
000c02  f7fffffe          BL       GUI_Lock
;;;912        pObj = MULTIPAGE_H2P(hObj);
000c06  4630              MOV      r0,r6
000c08  f7fffffe          BL       GUI_ALLOC_h2p
;;;913        if (pObj) {
000c0c  b128              CBZ      r0,|L1.3098|
;;;914          pObj->aTextColor[Index] = Color;
000c0e  eb000084          ADD      r0,r0,r4,LSL #2
000c12  6485              STR      r5,[r0,#0x48]
;;;915          WM_InvalidateWindow(hObj);
000c14  4630              MOV      r0,r6
000c16  f7fffffe          BL       WM_InvalidateWindow
                  |L1.3098|
;;;916        }
;;;917        WM_UNLOCK();
000c1a  e8bd4070          POP      {r4-r6,lr}
000c1e  f7ffbffe          B.W      GUI_Unlock
                  |L1.3106|
;;;918      }
;;;919    }
000c22  bd70              POP      {r4-r6,pc}
;;;920    
                          ENDP

                  MULTIPAGE_SetFont PROC
;;;924    */
;;;925    void MULTIPAGE_SetFont(MULTIPAGE_Handle hObj, const GUI_FONT GUI_UNI_PTR * pFont) {
000c24  b570              PUSH     {r4-r6,lr}
000c26  4605              MOV      r5,r0
000c28  460c              MOV      r4,r1
;;;926      MULTIPAGE_Obj* pObj;
;;;927      if (hObj && pFont) {
000c2a  2d00              CMP      r5,#0
000c2c  d010              BEQ      |L1.3152|
000c2e  2c00              CMP      r4,#0
000c30  d00e              BEQ      |L1.3152|
;;;928        WM_LOCK();
000c32  f7fffffe          BL       GUI_Lock
;;;929        pObj = MULTIPAGE_H2P(hObj);
000c36  4628              MOV      r0,r5
000c38  f7fffffe          BL       GUI_ALLOC_h2p
000c3c  4601              MOV      r1,r0
;;;930        if (pObj) {
000c3e  b119              CBZ      r1,|L1.3144|
;;;931          pObj->Font = pFont;
000c40  63cc              STR      r4,[r1,#0x3c]
;;;932          _UpdatePositions(hObj, pObj);
000c42  4628              MOV      r0,r5
000c44  f7fffffe          BL       _UpdatePositions
                  |L1.3144|
;;;933        }
;;;934        WM_UNLOCK();
000c48  e8bd4070          POP      {r4-r6,lr}
000c4c  f7ffbffe          B.W      GUI_Unlock
                  |L1.3152|
;;;935      }
;;;936    }
000c50  bd70              POP      {r4-r6,pc}
;;;937    
                          ENDP

                  MULTIPAGE_SetAlign PROC
;;;941    */
;;;942    void MULTIPAGE_SetAlign(MULTIPAGE_Handle hObj, unsigned Align) {
000c52  b570              PUSH     {r4-r6,lr}
000c54  b082              SUB      sp,sp,#8
000c56  4606              MOV      r6,r0
000c58  460d              MOV      r5,r1
;;;943      MULTIPAGE_Obj* pObj;
;;;944      GUI_RECT rClient;
;;;945      if (hObj) {
000c5a  2e00              CMP      r6,#0
000c5c  d01f              BEQ      |L1.3230|
;;;946        WM_LOCK();
000c5e  f7fffffe          BL       GUI_Lock
;;;947        pObj = MULTIPAGE_H2P(hObj);
000c62  4630              MOV      r0,r6
000c64  f7fffffe          BL       GUI_ALLOC_h2p
000c68  4604              MOV      r4,r0
;;;948        if (pObj) {
000c6a  b1b4              CBZ      r4,|L1.3226|
;;;949          pObj->Align = Align;
000c6c  63a5              STR      r5,[r4,#0x38]
;;;950          _CalcClientRect(pObj, &rClient);
000c6e  4669              MOV      r1,sp
000c70  4620              MOV      r0,r4
000c72  f7fffffe          BL       _CalcClientRect
;;;951          WM_MoveTo(pObj->hClient, rClient.x0 + pObj->Widget.Win.Rect.x0,
000c76  f9bd0002          LDRSH    r0,[sp,#2]
000c7a  f9b41002          LDRSH    r1,[r4,#2]
000c7e  1842              ADDS     r2,r0,r1
000c80  f9bd0000          LDRSH    r0,[sp,#0]
000c84  f9b41000          LDRSH    r1,[r4,#0]
000c88  4401              ADD      r1,r1,r0
000c8a  f9b40028          LDRSH    r0,[r4,#0x28]
000c8e  f7fffffe          BL       WM_MoveTo
;;;952                                   rClient.y0 + pObj->Widget.Win.Rect.y0);
;;;953          _UpdatePositions(hObj, pObj);
000c92  4621              MOV      r1,r4
000c94  4630              MOV      r0,r6
000c96  f7fffffe          BL       _UpdatePositions
                  |L1.3226|
;;;954        }
;;;955        WM_UNLOCK();
000c9a  f7fffffe          BL       GUI_Unlock
                  |L1.3230|
;;;956      }
;;;957    }
000c9e  b002              ADD      sp,sp,#8
000ca0  bd70              POP      {r4-r6,pc}
;;;958    
                          ENDP

                  MULTIPAGE_GetSelection PROC
;;;962    */
;;;963    int MULTIPAGE_GetSelection(MULTIPAGE_Handle hObj) {
000ca2  b570              PUSH     {r4-r6,lr}
000ca4  4605              MOV      r5,r0
;;;964      int r = 0;
000ca6  2400              MOVS     r4,#0
;;;965      if (hObj) {
000ca8  b145              CBZ      r5,|L1.3260|
;;;966        MULTIPAGE_Obj* pObj;
;;;967        WM_LOCK();
000caa  f7fffffe          BL       GUI_Lock
;;;968        pObj = MULTIPAGE_H2P(hObj);
000cae  4628              MOV      r0,r5
000cb0  f7fffffe          BL       GUI_ALLOC_h2p
;;;969        if (pObj) {
000cb4  b100              CBZ      r0,|L1.3256|
;;;970          r = pObj->Selection;
000cb6  6b04              LDR      r4,[r0,#0x30]
                  |L1.3256|
;;;971        }
;;;972        WM_UNLOCK();
000cb8  f7fffffe          BL       GUI_Unlock
                  |L1.3260|
;;;973      }
;;;974      return r;
000cbc  4620              MOV      r0,r4
;;;975    }
000cbe  bd70              POP      {r4-r6,pc}
                  |L1.3264|
                          DCD      0x00555555
                  |L1.3268|
                          DCD      _Callback
                  |L1.3272|
                          DCD      ||.data||+0x8
                  |L1.3276|
                          DCD      _ClientCallback
                          ENDP

                  MULTIPAGE_GetWindow PROC
;;;980    */
;;;981    WM_HWIN MULTIPAGE_GetWindow(MULTIPAGE_Handle hObj, unsigned Index) {
000cd0  b570              PUSH     {r4-r6,lr}
000cd2  4606              MOV      r6,r0
000cd4  460d              MOV      r5,r1
;;;982      WM_HWIN r = 0;
000cd6  2400              MOVS     r4,#0
;;;983      if (hObj) {
000cd8  b186              CBZ      r6,|L1.3324|
;;;984        MULTIPAGE_Obj* pObj;
;;;985        WM_LOCK();
000cda  f7fffffe          BL       GUI_Lock
;;;986        pObj = MULTIPAGE_H2P(hObj);
000cde  4630              MOV      r0,r6
000ce0  f7fffffe          BL       GUI_ALLOC_h2p
;;;987        if (pObj) {
000ce4  b140              CBZ      r0,|L1.3320|
;;;988          if ((int)Index < pObj->Handles.NumItems) {
000ce6  8d41              LDRH     r1,[r0,#0x2a]
000ce8  42a9              CMP      r1,r5
000cea  dd05              BLE      |L1.3320|
;;;989            MULTIPAGE_PAGE* pPage;
;;;990            pPage = (MULTIPAGE_PAGE*) GUI_ARRAY_GetpItem(&pObj->Handles, Index);
000cec  4629              MOV      r1,r5
000cee  302a              ADDS     r0,r0,#0x2a
000cf0  f7fffffe          BL       GUI_ARRAY_GetpItem
;;;991            r = pPage->hWin;
000cf4  f9b04000          LDRSH    r4,[r0,#0]
                  |L1.3320|
;;;992          }
;;;993        }
;;;994        WM_UNLOCK();
000cf8  f7fffffe          BL       GUI_Unlock
                  |L1.3324|
;;;995      }
;;;996      return r;
000cfc  4620              MOV      r0,r4
;;;997    }
000cfe  bd70              POP      {r4-r6,pc}
;;;998    
                          ENDP

                  MULTIPAGE_IsPageEnabled PROC
;;;1002   */
;;;1003   int MULTIPAGE_IsPageEnabled(MULTIPAGE_Handle hObj, unsigned Index) {
000d00  b570              PUSH     {r4-r6,lr}
000d02  4605              MOV      r5,r0
000d04  460e              MOV      r6,r1
;;;1004     int r = 0;
000d06  2400              MOVS     r4,#0
;;;1005     if (hObj) {
000d08  b15d              CBZ      r5,|L1.3362|
;;;1006       MULTIPAGE_Obj* pObj;
;;;1007       WM_LOCK();
000d0a  f7fffffe          BL       GUI_Lock
;;;1008       pObj = MULTIPAGE_H2P(hObj);
000d0e  4628              MOV      r0,r5
000d10  f7fffffe          BL       GUI_ALLOC_h2p
;;;1009       if (pObj) {
000d14  b118              CBZ      r0,|L1.3358|
;;;1010         r = _GetEnable(pObj, Index);
000d16  4631              MOV      r1,r6
000d18  f7fffffe          BL       _GetEnable
000d1c  4604              MOV      r4,r0
                  |L1.3358|
;;;1011       }
;;;1012       WM_UNLOCK();
000d1e  f7fffffe          BL       GUI_Unlock
                  |L1.3362|
;;;1013     }
;;;1014     return r;
000d22  4620              MOV      r0,r4
;;;1015   }
000d24  bd70              POP      {r4-r6,pc}
;;;1016   
                          ENDP


                          AREA ||.data||, DATA, ALIGN=2

                  MULTIPAGE__pDefaultFont
                          DCD      GUI_Font13_1
                  MULTIPAGE__DefaultAlign
                          DCD      0x00000000
                  MULTIPAGE__DefaultBkColor
                          DCD      0x00d0d0d0
                          DCD      0x00c0c0c0
                  MULTIPAGE__DefaultTextColor
                          DCD      0x00808080
                          DCD      0x00000000
