; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\wm_validate.o --depend=.\rvmdk\wm_validate.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\wm_validate.crf ..\..\..\..\..\uCGUI\GUI\WM\WM_Validate.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  _SubRect PROC
;;;49     */
;;;50     static void _SubRect(GUI_RECT* pDest, const GUI_RECT* pr0, const GUI_RECT* pr1) {
000000  2800              CMP      r0,#0
;;;51       if ((pDest == NULL) || (pr0 == NULL))
000002  d03f              BEQ      |L1.132|
000004  2900              CMP      r1,#0
000006  d03d              BEQ      |L1.132|
;;;52         return;
;;;53       *pDest = *pr0;	 
000008  680b              LDR      r3,[r1,#0]
00000a  6003              STR      r3,[r0,#0]
00000c  684b              LDR      r3,[r1,#4]
00000e  6043              STR      r3,[r0,#4]
;;;54       if (pr1 == NULL)
000010  2a00              CMP      r2,#0
000012  d037              BEQ      |L1.132|
;;;55         return;
;;;56       /* Check left/right sides */
;;;57       if (  (pr1->y0 <= pr0->y0)
000014  f9b23002          LDRSH    r3,[r2,#2]
000018  f9b1c002          LDRSH    r12,[r1,#2]
00001c  4563              CMP      r3,r12
00001e  dc15              BGT      |L1.76|
;;;58           &&(pr1->y1 >= pr0->y1)) {
000020  f9b23006          LDRSH    r3,[r2,#6]
000024  f9b1c006          LDRSH    r12,[r1,#6]
000028  4563              CMP      r3,r12
00002a  db0f              BLT      |L1.76|
;;;59         pDest->x0 = Max(pr0->x0, pr1->x1);
00002c  f9b13000          LDRSH    r3,[r1,#0]
000030  f9b2c004          LDRSH    r12,[r2,#4]
000034  4563              CMP      r3,r12
000036  dc00              BGT      |L1.58|
000038  4663              MOV      r3,r12
                  |L1.58|
00003a  8003              STRH     r3,[r0,#0]
;;;60         pDest->x1 = Min(pr0->x1, pr1->x0);
00003c  f9b13004          LDRSH    r3,[r1,#4]
000040  f9b2c000          LDRSH    r12,[r2,#0]
000044  4563              CMP      r3,r12
000046  dd00              BLE      |L1.74|
000048  4663              MOV      r3,r12
                  |L1.74|
00004a  8083              STRH     r3,[r0,#4]
                  |L1.76|
;;;61       }
;;;62       /* Check top/bottom sides */
;;;63       if (  (pr1->x0 <= pr0->x0)
00004c  f9b23000          LDRSH    r3,[r2,#0]
000050  f9b1c000          LDRSH    r12,[r1,#0]
000054  4563              CMP      r3,r12
000056  dc15              BGT      |L1.132|
;;;64           &&(pr1->x1 >= pr0->x1)) {
000058  f9b23004          LDRSH    r3,[r2,#4]
00005c  f9b1c004          LDRSH    r12,[r1,#4]
000060  4563              CMP      r3,r12
000062  db0f              BLT      |L1.132|
;;;65         pDest->y0 = Max(pr0->y0, pr1->y1);
000064  f9b13002          LDRSH    r3,[r1,#2]
000068  f9b2c006          LDRSH    r12,[r2,#6]
00006c  4563              CMP      r3,r12
00006e  dc00              BGT      |L1.114|
000070  4663              MOV      r3,r12
                  |L1.114|
000072  8043              STRH     r3,[r0,#2]
;;;66         pDest->y1 = Min(pr0->y1, pr1->y0);
000074  f9b13006          LDRSH    r3,[r1,#6]
000078  f9b21002          LDRSH    r1,[r2,#2]
00007c  428b              CMP      r3,r1
00007e  dc00              BGT      |L1.130|
000080  4619              MOV      r1,r3
                  |L1.130|
000082  80c1              STRH     r1,[r0,#6]
                  |L1.132|
;;;67       }
;;;68     }
000084  4770              BX       lr
;;;69     
                          ENDP

                  WM_ValidateRect PROC
;;;79     */
;;;80     void WM_ValidateRect(WM_HWIN hWin, const GUI_RECT*pRect) {
000086  b570              PUSH     {r4-r6,lr}
000088  4604              MOV      r4,r0
00008a  460d              MOV      r5,r1
;;;81       WM_Obj* pWin;
;;;82       if (hWin) {
00008c  2c00              CMP      r4,#0
00008e  d021              BEQ      |L1.212|
;;;83         WM_LOCK();
000090  f7fffffe          BL       GUI_Lock
;;;84         pWin = WM_HANDLE2PTR(hWin);
000094  4620              MOV      r0,r4
000096  f7fffffe          BL       GUI_ALLOC_h2p
00009a  4604              MOV      r4,r0
;;;85         if (pWin->Status & WM_SF_INVALID) {
00009c  8ba0              LDRH     r0,[r4,#0x1c]
00009e  f0100f20          TST      r0,#0x20
0000a2  d013              BEQ      |L1.204|
;;;86           if (pRect) {
0000a4  b155              CBZ      r5,|L1.188|
;;;87             _SubRect(&pWin->InvalidRect, &pWin->InvalidRect, pRect);
0000a6  f1040108          ADD      r1,r4,#8
0000aa  462a              MOV      r2,r5
0000ac  4608              MOV      r0,r1
0000ae  f7fffffe          BL       _SubRect
;;;88             if (WM__RectIsNZ(&pWin->InvalidRect))
0000b2  f1040008          ADD      r0,r4,#8
0000b6  f7fffffe          BL       WM__RectIsNZ
0000ba  b938              CBNZ     r0,|L1.204|
                  |L1.188|
;;;89               goto Done;
;;;90           }
;;;91           pWin->Status &= ~WM_SF_INVALID;
0000bc  8ba0              LDRH     r0,[r4,#0x1c]
0000be  f0200020          BIC      r0,r0,#0x20
0000c2  83a0              STRH     r0,[r4,#0x1c]
;;;92           WM__NumInvalidWindows--;
0000c4  4804              LDR      r0,|L1.216|
0000c6  8801              LDRH     r1,[r0,#0]  ; WM__NumInvalidWindows
0000c8  1e49              SUBS     r1,r1,#1
0000ca  8001              STRH     r1,[r0,#0]
                  |L1.204|
;;;93         }
;;;94       Done:
;;;95         WM_UNLOCK();
0000cc  e8bd4070          POP      {r4-r6,lr}
0000d0  f7ffbffe          B.W      GUI_Unlock
                  |L1.212|
;;;96       }
;;;97     }
0000d4  bd70              POP      {r4-r6,pc}
;;;98     
                          ENDP

0000d6  0000              DCW      0x0000
                  |L1.216|
                          DCD      WM__NumInvalidWindows
