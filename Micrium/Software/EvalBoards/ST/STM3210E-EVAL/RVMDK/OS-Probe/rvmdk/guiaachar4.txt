; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\guiaachar4.o --depend=.\rvmdk\guiaachar4.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\guiaachar4.crf ..\..\..\..\..\uCGUI\GUI\AntiAlias\GUIAAChar4.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  Draw PROC
;;;36     */
;;;37     static void Draw(int x0, int y0, int XSize, int YSize, int BytesPerLine, const U8*pData) {
000000  e92d4fff          PUSH     {r0-r11,lr}
000004  b081              SUB      sp,sp,#4
000006  4680              MOV      r8,r0
000008  f8dd903c          LDR      r9,[sp,#0x3c]
00000c  468b              MOV      r11,r1
;;;38       int x, y;
;;;39       tLCD_SetPixelAA* pfSetPixelAA;
;;;40       pfSetPixelAA = (GUI_Context.TextMode && GUI_TM_TRANS) ?
00000e  484a              LDR      r0,|L1.312|
000010  8dc0              LDRH     r0,[r0,#0x2e]  ; GUI_Context
000012  b108              CBZ      r0,|L1.24|
;;;41                      LCD_SetPixelAA : LCD_SetPixelAA_NoTrans;
000014  4f49              LDR      r7,|L1.316|
000016  e000              B        |L1.26|
                  |L1.24|
000018  4f49              LDR      r7,|L1.320|
                  |L1.26|
;;;42       for (y=0; y<YSize; y++) {
00001a  2600              MOVS     r6,#0
00001c  9804              LDR      r0,[sp,#0x10]
00001e  2800              CMP      r0,#0
000020  dd2e              BLE      |L1.128|
;;;43         const U8*pData0 = pData;
;;;44         for (x=0; x<XSize-1; x+=2) {
000022  9803              LDR      r0,[sp,#0xc]
000024  f1a00a01          SUB      r10,r0,#1
                  |L1.40|
000028  464d              MOV      r5,r9                 ;43
00002a  2400              MOVS     r4,#0
00002c  f1ba0f00          CMP      r10,#0
000030  dd14              BLE      |L1.92|
;;;45           (*pfSetPixelAA)(x+x0,y0+y,   (*pData0)>>4); /* x0+x changed -> x+x0 to avoid problems with IAR's ICCMC80 */
000032  eb0b0006          ADD      r0,r11,r6
000036  9000              STR      r0,[sp,#0]
                  |L1.56|
000038  7828              LDRB     r0,[r5,#0]
00003a  9900              LDR      r1,[sp,#0]
00003c  0902              LSRS     r2,r0,#4
00003e  eb040008          ADD      r0,r4,r8
000042  47b8              BLX      r7
;;;46           (*pfSetPixelAA)(x0+x+1,y0+y, (*pData0++)&15);
000044  f8150b01          LDRB     r0,[r5],#1
000048  9900              LDR      r1,[sp,#0]
00004a  f000020f          AND      r2,r0,#0xf
00004e  eb080004          ADD      r0,r8,r4
000052  1c40              ADDS     r0,r0,#1
000054  47b8              BLX      r7
000056  1ca4              ADDS     r4,r4,#2              ;44
000058  4554              CMP      r4,r10                ;44
00005a  dbed              BLT      |L1.56|
                  |L1.92|
;;;47       	}
;;;48         if (XSize&1) {
00005c  9803              LDR      r0,[sp,#0xc]
00005e  f0100f01          TST      r0,#1
000062  d007              BEQ      |L1.116|
;;;49           (*pfSetPixelAA)(x0+x,y0+y, (*pData0)&15);
000064  7828              LDRB     r0,[r5,#0]
000066  eb0b0106          ADD      r1,r11,r6
00006a  f000020f          AND      r2,r0,#0xf
00006e  eb080004          ADD      r0,r8,r4
000072  47b8              BLX      r7
                  |L1.116|
;;;50         }
;;;51         pData+=BytesPerLine;
000074  980e              LDR      r0,[sp,#0x38]
000076  4481              ADD      r9,r9,r0
000078  1c76              ADDS     r6,r6,#1              ;42
00007a  9804              LDR      r0,[sp,#0x10]         ;42
00007c  4286              CMP      r6,r0                 ;42
00007e  dbd3              BLT      |L1.40|
                  |L1.128|
;;;52       }
;;;53     }
000080  b005              ADD      sp,sp,#0x14
000082  e8bd8ff0          POP      {r4-r11,pc}
;;;54     
                          ENDP

                  GUIPROP_FindChar PROC
;;;58     */
;;;59     static const GUI_FONT_PROP* GUIPROP_FindChar(const GUI_FONT_PROP* pProp, U16P c) {
000086  482c              LDR      r0,|L1.312|
;;;60       for (pProp = GUI_Context.pAFont->p.pProp; pProp; pProp=(const GUI_FONT_PROP*) pProp->pNext) {
000088  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
00008a  6980              LDR      r0,[r0,#0x18]
00008c  2800              CMP      r0,#0
00008e  d008              BEQ      |L1.162|
                  |L1.144|
;;;61         if ((c>=pProp->First) && (c<=pProp->Last))
000090  8802              LDRH     r2,[r0,#0]
000092  428a              CMP      r2,r1
000094  d802              BHI      |L1.156|
000096  8842              LDRH     r2,[r0,#2]
000098  428a              CMP      r2,r1
00009a  d202              BCS      |L1.162|
                  |L1.156|
00009c  6880              LDR      r0,[r0,#8]            ;60
00009e  2800              CMP      r0,#0                 ;60
0000a0  d1f6              BNE      |L1.144|
                  |L1.162|
;;;62           break;
;;;63       }
;;;64       return pProp;
;;;65     }
0000a2  4770              BX       lr
;;;66     
                          ENDP

                  GUIPROP_AA4_DispChar PROC
;;;76     */
;;;77     void GUIPROP_AA4_DispChar(U16P c) {
0000a4  b5f0              PUSH     {r4-r7,lr}
0000a6  b083              SUB      sp,sp,#0xc
0000a8  4604              MOV      r4,r0
;;;78       int BytesPerLine;
;;;79       GUI_DRAWMODE DrawMode = GUI_Context.TextMode;
0000aa  4d23              LDR      r5,|L1.312|
0000ac  f9b5602e          LDRSH    r6,[r5,#0x2e]  ; GUI_Context
;;;80       const GUI_FONT_PROP* pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
0000b0  69e8              LDR      r0,[r5,#0x1c]  ; GUI_Context
0000b2  4621              MOV      r1,r4
0000b4  6980              LDR      r0,[r0,#0x18]
0000b6  f7fffffe          BL       GUIPROP_FindChar
;;;81       if (pProp) {
0000ba  2800              CMP      r0,#0
0000bc  d01c              BEQ      |L1.248|
;;;82         GUI_DRAWMODE OldDrawMode;
;;;83         const GUI_CHARINFO* pCharInfo = pProp->paCharInfo+(c-pProp->First);
0000be  6841              LDR      r1,[r0,#4]
0000c0  8800              LDRH     r0,[r0,#0]
0000c2  1a20              SUBS     r0,r4,r0
0000c4  eb0104c0          ADD      r4,r1,r0,LSL #3
;;;84         BytesPerLine = pCharInfo->BytesPerLine;
0000c8  78a7              LDRB     r7,[r4,#2]
;;;85         OldDrawMode  = LCD_SetDrawMode(DrawMode);
0000ca  4630              MOV      r0,r6
0000cc  f7fffffe          BL       LCD_SetDrawMode
0000d0  4606              MOV      r6,r0
;;;86         Draw  ( GUI_Context.DispPosX, GUI_Context.DispPosY,
0000d2  6863              LDR      r3,[r4,#4]
0000d4  9700              STR      r7,[sp,#0]
0000d6  9301              STR      r3,[sp,#4]
0000d8  69e8              LDR      r0,[r5,#0x1c]  ; GUI_Context
0000da  7822              LDRB     r2,[r4,#0]
0000dc  f9b51028          LDRSH    r1,[r5,#0x28]  ; GUI_Context
0000e0  7d03              LDRB     r3,[r0,#0x14]
0000e2  f9b50026          LDRSH    r0,[r5,#0x26]  ; GUI_Context
0000e6  f7fffffe          BL       Draw
;;;87                            pCharInfo->XSize,
;;;88                            GUI_Context.pAFont->YSize,
;;;89                            BytesPerLine,
;;;90                            (U8 const*)pCharInfo->pData
;;;91                            );
;;;92         LCD_SetDrawMode(OldDrawMode); /* Restore draw mode */
0000ea  4630              MOV      r0,r6
0000ec  f7fffffe          BL       LCD_SetDrawMode
;;;93         GUI_Context.DispPosX += pCharInfo->XDist;
0000f0  8ce8              LDRH     r0,[r5,#0x26]  ; GUI_Context
0000f2  7861              LDRB     r1,[r4,#1]
0000f4  4408              ADD      r0,r0,r1
0000f6  84e8              STRH     r0,[r5,#0x26]
                  |L1.248|
;;;94       }
;;;95     }
0000f8  b003              ADD      sp,sp,#0xc
0000fa  bdf0              POP      {r4-r7,pc}
;;;96     
                          ENDP

                  GUIPROP_AA4_GetCharDistX PROC
;;;100    */
;;;101    int GUIPROP_AA4_GetCharDistX(U16P c) {
0000fc  b510              PUSH     {r4,lr}
0000fe  4604              MOV      r4,r0
;;;102      const GUI_FONT_PROP* pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
000100  480d              LDR      r0,|L1.312|
000102  4621              MOV      r1,r4
000104  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
000106  6980              LDR      r0,[r0,#0x18]
000108  f7fffffe          BL       GUIPROP_FindChar
;;;103      return (pProp) ? (pProp->paCharInfo+(c-pProp->First))->XSize : 0;
00010c  b128              CBZ      r0,|L1.282|
00010e  6842              LDR      r2,[r0,#4]
000110  8800              LDRH     r0,[r0,#0]
000112  1a20              SUBS     r0,r4,r0
000114  f8120030          LDRB     r0,[r2,r0,LSL #3]
;;;104    }
000118  bd10              POP      {r4,pc}
                  |L1.282|
00011a  2000              MOVS     r0,#0                 ;103
00011c  bd10              POP      {r4,pc}
;;;105    
                          ENDP

                  GUIPROP_AA4_GetFontInfo PROC
;;;109    */
;;;110    void GUIPROP_AA4_GetFontInfo(const GUI_FONT * pFont, GUI_FONTINFO* pfi) {
00011e  2011              MOVS     r0,#0x11
;;;111      GUI_USE_PARA(pFont);
;;;112      pfi->Flags = GUI_FONTINFO_FLAG_PROP | GUI_FONTINFO_FLAG_AA4;
000120  8008              STRH     r0,[r1,#0]
;;;113    }
000122  4770              BX       lr
;;;114    
                          ENDP

                  GUIPROP_AA4_IsInFont PROC
;;;118    */
;;;119    char GUIPROP_AA4_IsInFont(const GUI_FONT * pFont, U16 c) {
000124  b510              PUSH     {r4,lr}
;;;120      const GUI_FONT_PROP* pProp = GUIPROP_FindChar(pFont->p.pProp, c);
000126  6980              LDR      r0,[r0,#0x18]
000128  f7fffffe          BL       GUIPROP_FindChar
;;;121      return (pProp==NULL) ? 0 : 1;
00012c  b108              CBZ      r0,|L1.306|
00012e  2001              MOVS     r0,#1
;;;122    }
000130  bd10              POP      {r4,pc}
                  |L1.306|
000132  2000              MOVS     r0,#0                 ;121
000134  bd10              POP      {r4,pc}
;;;123    
                          ENDP

000136  0000              DCW      0x0000
                  |L1.312|
                          DCD      GUI_Context
                  |L1.316|
                          DCD      LCD_SetPixelAA
                  |L1.320|
                          DCD      LCD_SetPixelAA_NoTrans
