; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\rvmdk\stm32f10x_bkp.o --depend=.\rvmdk\stm32f10x_bkp.d --cpu=Cortex-M3 --apcs=interwork -O1 -Otime -I. -I..\BSP -I..\..\..\..\..\uCOS-II\Ports\arm-cortex-m3\Generic\RealView -I..\..\..\..\..\uCOS-II\Source -I..\..\..\..\..\CPU\ST\STM32\inc -I..\..\..\..\..\uC-CPU -I..\..\..\..\..\uC-CPU\Arm-Cortex-M3\RealView -I..\..\..\..\..\uC-LIB -I..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32 -I..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source -I..\..\..\..\..\User\inc -I..\..\..\..\..\uCGUI\Config -I..\..\..\..\..\uCGUI\GUIDemo -I..\..\..\..\..\uCGUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\AntiAlias -I..\..\..\..\..\uCGUI\GUI\ConvertColor -I..\..\..\..\..\uCGUI\GUI\ConvertMono -I..\..\..\..\..\uCGUI\GUI\Core -I..\..\..\..\..\uCGUI\GUI\Font -I..\..\..\..\..\uCGUI\GUI\LCDDriver -I..\..\..\..\..\uCGUI\GUI\MemDev -I..\..\..\..\..\uCGUI\GUI\MultiLayer -I..\..\..\..\..\uCGUI\GUI\Widget -I..\..\..\..\..\uCGUI\GUI\WM -Id:\Keil-stm32\ARM\INC -Id:\Keil-stm32\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\rvmdk\stm32f10x_bkp.crf ..\..\..\..\..\CPU\ST\STM32\src\stm32f10x_bkp.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  BKP_DeInit PROC
;;;73     *******************************************************************************/
;;;74     void BKP_DeInit(void)
000000  b510              PUSH     {r4,lr}
;;;75     {
;;;76       RCC_BackupResetCmd(ENABLE);
000002  2001              MOVS     r0,#1
000004  f7fffffe          BL       RCC_BackupResetCmd
;;;77       RCC_BackupResetCmd(DISABLE);
000008  e8bd4010          POP      {r4,lr}
00000c  2000              MOVS     r0,#0
00000e  f7ffbffe          B.W      RCC_BackupResetCmd
;;;78     }
;;;79     
                          ENDP

                  BKP_TamperPinLevelConfig PROC
;;;89     *******************************************************************************/
;;;90     void BKP_TamperPinLevelConfig(u16 BKP_TamperPinLevel)
000012  491d              LDR      r1,|L1.136|
;;;91     {
;;;92       /* Check the parameters */
;;;93       assert_param(IS_BKP_TAMPER_PIN_LEVEL(BKP_TamperPinLevel));
;;;94     
;;;95       *(vu32 *) CR_TPAL_BB = BKP_TamperPinLevel;
000014  6008              STR      r0,[r1,#0]
;;;96     }
000016  4770              BX       lr
;;;97     
                          ENDP

                  BKP_TamperPinCmd PROC
;;;105    *******************************************************************************/
;;;106    void BKP_TamperPinCmd(FunctionalState NewState)
000018  491c              LDR      r1,|L1.140|
;;;107    {
;;;108      /* Check the parameters */
;;;109      assert_param(IS_FUNCTIONAL_STATE(NewState));
;;;110    
;;;111      *(vu32 *) CR_TPE_BB = (u32)NewState;
00001a  6008              STR      r0,[r1,#0]
;;;112    }
00001c  4770              BX       lr
;;;113    
                          ENDP

                  BKP_ITConfig PROC
;;;121    *******************************************************************************/
;;;122    void BKP_ITConfig(FunctionalState NewState)
00001e  491c              LDR      r1,|L1.144|
;;;123    {
;;;124      /* Check the parameters */
;;;125      assert_param(IS_FUNCTIONAL_STATE(NewState));
;;;126    
;;;127      *(vu32 *) CSR_TPIE_BB = (u32)NewState;
000020  6008              STR      r0,[r1,#0]
;;;128    }
000022  4770              BX       lr
;;;129    
                          ENDP

                  BKP_RTCOutputConfig PROC
;;;144    *******************************************************************************/
;;;145    void BKP_RTCOutputConfig(u16 BKP_RTCOutputSource)
000024  4a1b              LDR      r2,|L1.148|
;;;146    {
;;;147      u16 tmpreg = 0;
;;;148    
;;;149      /* Check the parameters */
;;;150      assert_param(IS_BKP_RTC_OUTPUT_SOURCE(BKP_RTCOutputSource));
;;;151    
;;;152      tmpreg = BKP->RTCCR;
000026  8811              LDRH     r1,[r2,#0]
;;;153    
;;;154      /* Clear CCO, ASOE and ASOS bits */
;;;155      tmpreg &= RTCCR_Mask;
000028  f4217160          BIC      r1,r1,#0x380
;;;156      
;;;157      /* Set CCO, ASOE and ASOS bits according to BKP_RTCOutputSource value */
;;;158      tmpreg |= BKP_RTCOutputSource;
00002c  ea410000          ORR      r0,r1,r0
;;;159    
;;;160      /* Store the new value */
;;;161      BKP->RTCCR = tmpreg;
000030  8010              STRH     r0,[r2,#0]
;;;162    }
000032  4770              BX       lr
;;;163    
                          ENDP

                  BKP_SetRTCCalibrationValue PROC
;;;171    *******************************************************************************/
;;;172    void BKP_SetRTCCalibrationValue(u8 CalibrationValue)
000034  4a17              LDR      r2,|L1.148|
;;;173    {
;;;174      u16 tmpreg = 0;
;;;175    
;;;176      /* Check the parameters */
;;;177      assert_param(IS_BKP_CALIBRATION_VALUE(CalibrationValue));
;;;178    
;;;179      tmpreg = BKP->RTCCR;
000036  8811              LDRH     r1,[r2,#0]
;;;180    
;;;181      /* Clear CAL[6:0] bits */
;;;182      tmpreg &= RTCCR_CAL_Mask;
000038  f021017f          BIC      r1,r1,#0x7f
;;;183    
;;;184      /* Set CAL[6:0] bits according to CalibrationValue value */
;;;185      tmpreg |= CalibrationValue;
00003c  ea410000          ORR      r0,r1,r0
;;;186    
;;;187      /* Store the new value */
;;;188      BKP->RTCCR = tmpreg;
000040  8010              STRH     r0,[r2,#0]
;;;189    }
000042  4770              BX       lr
;;;190    
                          ENDP

                  BKP_WriteBackupRegister PROC
;;;199    *******************************************************************************/
;;;200    void BKP_WriteBackupRegister(u16 BKP_DR, u16 Data)
000044  f1004080          ADD      r0,r0,#0x40000000
;;;201    {
;;;202      /* Check the parameters */
;;;203      assert_param(IS_BKP_DR(BKP_DR));
;;;204    
;;;205      *(vu16 *) (BKP_BASE + BKP_DR) = Data;
000048  f50040c0          ADD      r0,r0,#0x6000
00004c  f8a01c00          STRH     r1,[r0,#0xc00]
;;;206    }
000050  4770              BX       lr
;;;207    
                          ENDP

                  BKP_ReadBackupRegister PROC
;;;215    *******************************************************************************/
;;;216    u16 BKP_ReadBackupRegister(u16 BKP_DR)
000052  f1004080          ADD      r0,r0,#0x40000000
;;;217    {
;;;218      /* Check the parameters */
;;;219      assert_param(IS_BKP_DR(BKP_DR));
;;;220    
;;;221      return (*(vu16 *) (BKP_BASE + BKP_DR));
000056  f50040c0          ADD      r0,r0,#0x6000
00005a  f8b00c00          LDRH     r0,[r0,#0xc00]
;;;222    }
00005e  4770              BX       lr
;;;223    
                          ENDP

                  BKP_GetFlagStatus PROC
;;;230    *******************************************************************************/
;;;231    FlagStatus BKP_GetFlagStatus(void)
000060  480d              LDR      r0,|L1.152|
;;;232    {
;;;233      return (FlagStatus)(*(vu32 *) CSR_TEF_BB);
000062  6800              LDR      r0,[r0,#0]
000064  b2c0              UXTB     r0,r0
;;;234    }
000066  4770              BX       lr
;;;235    
                          ENDP

                  BKP_ClearFlag PROC
;;;242    *******************************************************************************/
;;;243    void BKP_ClearFlag(void)
000068  480c              LDR      r0,|L1.156|
;;;244    {
;;;245      /* Set CTE bit to clear Tamper Pin Event flag */
;;;246      BKP->CSR |= CSR_CTE_Set;
00006a  8801              LDRH     r1,[r0,#0]
00006c  f0410101          ORR      r1,r1,#1
000070  8001              STRH     r1,[r0,#0]
;;;247    }
000072  4770              BX       lr
;;;248    
                          ENDP

                  BKP_GetITStatus PROC
;;;255    *******************************************************************************/
;;;256    ITStatus BKP_GetITStatus(void)
000074  480a              LDR      r0,|L1.160|
;;;257    {
;;;258      return (ITStatus)(*(vu32 *) CSR_TIF_BB);
000076  6800              LDR      r0,[r0,#0]
000078  b2c0              UXTB     r0,r0
;;;259    }
00007a  4770              BX       lr
;;;260    
                          ENDP

                  BKP_ClearITPendingBit PROC
;;;267    *******************************************************************************/
;;;268    void BKP_ClearITPendingBit(void)
00007c  4807              LDR      r0,|L1.156|
;;;269    {
;;;270      /* Set CTI bit to clear Tamper Pin Interrupt pending bit */
;;;271      BKP->CSR |= CSR_CTI_Set;
00007e  8801              LDRH     r1,[r0,#0]
000080  f0410102          ORR      r1,r1,#2
000084  8001              STRH     r1,[r0,#0]
;;;272    }
000086  4770              BX       lr
;;;273    
                          ENDP

                  |L1.136|
                          DCD      0x420d8604
                  |L1.140|
                          DCD      0x420d8600
                  |L1.144|
                          DCD      0x420d8688
                  |L1.148|
                          DCD      0x40006c2c
                  |L1.152|
                          DCD      0x420d86a0
                  |L1.156|
                          DCD      0x40006c34
                  |L1.160|
                          DCD      0x420d86a4
